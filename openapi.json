{"openapi":"3.1.0","info":{"title":"CEMS - Currency Exchange Management System","description":"Currency Exchange Management System - Complete multi-branch solution","version":"1.0.0"},"paths":{"/":{"get":{"tags":["Health"],"summary":"Root","description":"Root endpoint - health check","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"tags":["Health"],"summary":"Health Check","description":"Detailed health check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/auth/login":{"post":{"tags":["Authentication"],"summary":"User Login","description":"Authenticate user and receive access + refresh tokens","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Login successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"401":{"description":"Invalid credentials"},"422":{"description":"Validation error"}}}},"/api/v1/auth/register":{"post":{"tags":["Authentication"],"summary":"Register New User","description":"Create a new user account (superuser only)","operationId":"register_api_v1_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"Bearer":[]}]}},"/api/v1/auth/refresh":{"post":{"tags":["Authentication"],"summary":"Refresh Access Token","description":"Get a new access token using refresh token","operationId":"refresh_token_api_v1_auth_refresh_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/logout":{"post":{"tags":["Authentication"],"summary":"User Logout","description":"Logout current user (invalidate token)","operationId":"logout_api_v1_auth_logout_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}}},"security":[{"Bearer":[]}]}},"/api/v1/auth/me":{"get":{"tags":["Authentication"],"summary":"Get Current User","description":"Get currently authenticated user's information","operationId":"get_me_api_v1_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"Bearer":[]}]}},"/api/v1/auth/change-password":{"post":{"tags":["Authentication"],"summary":"Change Password","description":"Change current user's password","operationId":"change_password_api_v1_auth_change_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordChange"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"Bearer":[]}]}},"/api/v1/auth/request-password-reset":{"post":{"tags":["Authentication"],"summary":"Request Password Reset","description":"Request a password reset token via email","operationId":"request_password_reset_api_v1_auth_request_password_reset_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/reset-password":{"post":{"tags":["Authentication"],"summary":"Reset Password","description":"Reset password using token from email","operationId":"reset_password_api_v1_auth_reset_password_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetConfirm"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/test":{"get":{"tags":["Authentication"],"summary":"Test Authentication","description":"Test endpoint to verify authentication is working","operationId":"test_auth_api_v1_auth_test_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Test Auth Api V1 Auth Test Get"}}}}},"security":[{"Bearer":[]}]}},"/api/v1/currencies":{"get":{"tags":["Currencies"],"summary":"List all currencies","description":"Get list of all currencies with optional filtering","operationId":"list_currencies_api_v1_currencies_get","security":[{"Bearer":[]}],"parameters":[{"name":"include_inactive","in":"query","required":false,"schema":{"type":"boolean","description":"Include inactive currencies","default":false,"title":"Include Inactive"},"description":"Include inactive currencies"},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of records to skip","default":0,"title":"Skip"},"description":"Number of records to skip"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"description":"Max records to return","default":100,"title":"Limit"},"description":"Max records to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_CurrencyResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Currencies"],"summary":"Create new currency","description":"Create a new currency (Admin only)","operationId":"create_currency_api_v1_currencies_post","security":[{"Bearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CurrencyCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CurrencyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/currencies/{currency_id}":{"get":{"tags":["Currencies"],"summary":"Get currency by ID","description":"Get detailed information about a specific currency","operationId":"get_currency_api_v1_currencies__currency_id__get","security":[{"Bearer":[]}],"parameters":[{"name":"currency_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Currency Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CurrencyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Currencies"],"summary":"Update currency","description":"Update currency information (Admin only)","operationId":"update_currency_api_v1_currencies__currency_id__put","security":[{"Bearer":[]}],"parameters":[{"name":"currency_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Currency Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CurrencyUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CurrencyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/currencies/code/{currency_code}":{"get":{"tags":["Currencies"],"summary":"Get currency by code","description":"Get currency information using ISO 4217 code","operationId":"get_currency_by_code_api_v1_currencies_code__currency_code__get","security":[{"Bearer":[]}],"parameters":[{"name":"currency_code","in":"path","required":true,"schema":{"type":"string","title":"Currency Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CurrencyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/currencies/{currency_id}/with-rates":{"get":{"tags":["Currencies"],"summary":"Get currency with exchange rates","description":"Get currency with all its exchange rates","operationId":"get_currency_with_rates_api_v1_currencies__currency_id__with_rates_get","security":[{"Bearer":[]}],"parameters":[{"name":"currency_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Currency Id"}},{"name":"include_historical","in":"query","required":false,"schema":{"type":"boolean","description":"Include historical rates","default":false,"title":"Include Historical"},"description":"Include historical rates"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CurrencyWithRates"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/currencies/{currency_id}/activate":{"patch":{"tags":["Currencies"],"summary":"Activate currency","description":"Activate a currency (Admin only)","operationId":"activate_currency_api_v1_currencies__currency_id__activate_patch","security":[{"Bearer":[]}],"parameters":[{"name":"currency_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Currency Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CurrencyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/currencies/{currency_id}/deactivate":{"patch":{"tags":["Currencies"],"summary":"Deactivate currency","description":"Deactivate a currency (Admin only)","operationId":"deactivate_currency_api_v1_currencies__currency_id__deactivate_patch","security":[{"Bearer":[]}],"parameters":[{"name":"currency_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Currency Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CurrencyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/currencies/rates":{"post":{"tags":["Currencies"],"summary":"Set exchange rate","description":"Create or update exchange rate between currencies","operationId":"set_exchange_rate_api_v1_currencies_rates_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExchangeRateCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExchangeRateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"Bearer":[]}]}},"/api/v1/currencies/rates/{from_currency}/{to_currency}":{"get":{"tags":["Currencies"],"summary":"Get current exchange rate","description":"Get current exchange rate between two currencies","operationId":"get_exchange_rate_api_v1_currencies_rates__from_currency___to_currency__get","security":[{"Bearer":[]}],"parameters":[{"name":"from_currency","in":"path","required":true,"schema":{"type":"string","title":"From Currency"}},{"name":"to_currency","in":"path","required":true,"schema":{"type":"string","title":"To Currency"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExchangeRateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/currencies/rates/history/{from_currency}/{to_currency}":{"get":{"tags":["Currencies"],"summary":"Get exchange rate history","description":"Get historical exchange rates between two currencies","operationId":"get_exchange_rate_history_api_v1_currencies_rates_history__from_currency___to_currency__get","security":[{"Bearer":[]}],"parameters":[{"name":"from_currency","in":"path","required":true,"schema":{"type":"string","title":"From Currency"}},{"name":"to_currency","in":"path","required":true,"schema":{"type":"string","title":"To Currency"}},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Start date","title":"Start Date"},"description":"Start date"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"End date","title":"End Date"},"description":"End date"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Max records","default":50,"title":"Limit"},"description":"Max records"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExchangeRateListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/currencies/calculate":{"get":{"tags":["Currencies"],"summary":"Calculate currency exchange","description":"Calculate exchange amount between currencies","operationId":"calculate_exchange_api_v1_currencies_calculate_get","security":[{"Bearer":[]}],"parameters":[{"name":"amount","in":"query","required":true,"schema":{"anyOf":[{"type":"number"},{"type":"string"}],"description":"Amount to exchange","title":"Amount"},"description":"Amount to exchange"},{"name":"from_currency","in":"query","required":true,"schema":{"type":"string","description":"Source currency code","title":"From Currency"},"description":"Source currency code"},{"name":"to_currency","in":"query","required":true,"schema":{"type":"string","description":"Target currency code","title":"To Currency"},"description":"Target currency code"},{"name":"apply_commission","in":"query","required":false,"schema":{"type":"boolean","description":"Apply commission","default":false,"title":"Apply Commission"},"description":"Apply commission"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/currencies/health/ping":{"get":{"tags":["Currencies"],"summary":"Currency Health Check","description":"Health check endpoint for currency service","operationId":"currency_health_check_api_v1_currencies_health_ping_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/branches":{"get":{"tags":["Branches"],"summary":"List Branches","description":"List all branches with pagination and search\n\n**Search:** Search in name (EN/AR), code, city, and address fields\n\n**Filters:**\n- region: Filter by region\n- is_active: Filter by active status\n- include_balances: Include currency balances\n- calculate_usd_value: Calculate total USD value for all balances (requires include_balances=true)\n\n**Permissions:** Any authenticated user","operationId":"list_branches_api_v1_branches_get","security":[{"Bearer":[]}],"parameters":[{"name":"region","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/RegionEnum"},{"type":"null"}],"title":"Region"}},{"name":"is_active","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Is Active"}},{"name":"include_balances","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Balances"}},{"name":"calculate_usd_value","in":"query","required":false,"schema":{"type":"boolean","description":"Calculate total USD value for all balances","default":false,"title":"Calculate Usd Value"},"description":"Calculate total USD value for all balances"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search by name, code, city, or address","title":"Search"},"description":"Search by name, code, city, or address"},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_Union_BranchResponse__BranchWithBalances__"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Branches"],"summary":"Create Branch","description":"Create new branch (Admin only)","operationId":"create_branch_api_v1_branches_post","security":[{"Bearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BranchCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BranchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/branches/{branch_id}":{"get":{"tags":["Branches"],"summary":"Get Branch","description":"Get branch by ID with optional balances and USD value calculation","operationId":"get_branch_api_v1_branches__branch_id__get","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Branch Id"}},{"name":"include_balances","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Include Balances"}},{"name":"calculate_usd_value","in":"query","required":false,"schema":{"type":"boolean","description":"Calculate total USD value for all balances","default":false,"title":"Calculate Usd Value"},"description":"Calculate total USD value for all balances"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BranchWithBalances"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Branches"],"summary":"Update Branch","description":"Update branch (Admin only)","operationId":"update_branch_api_v1_branches__branch_id__put","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Branch Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BranchUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BranchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Branches"],"summary":"Delete Branch","description":"Delete branch - soft delete (Admin only)","operationId":"delete_branch_api_v1_branches__branch_id__delete","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Branch Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/branches/{branch_id}/balances":{"get":{"tags":["Branches"],"summary":"Get Branch Balances","description":"Get all currency balances for a branch","operationId":"get_branch_balances_api_v1_branches__branch_id__balances_get","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Branch Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BranchBalanceListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/branches/{branch_id}/balances/{currency_id}":{"get":{"tags":["Branches"],"summary":"Get Branch Currency Balance","description":"Get specific currency balance for a branch","operationId":"get_branch_currency_balance_api_v1_branches__branch_id__balances__currency_id__get","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Branch Id"}},{"name":"currency_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Currency Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BranchBalanceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/branches/{branch_id}/users":{"get":{"tags":["Branches"],"summary":"Get Branch Users","description":"Get all users assigned to a branch\n\n**Permissions:** Any authenticated user","operationId":"get_branch_users_api_v1_branches__branch_id__users_get","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Branch Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"},"title":"Response Get Branch Users Api V1 Branches  Branch Id  Users Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Branches"],"summary":"Assign Users To Branch","description":"Assign multiple users to a branch\n\n**Permissions:** Admin or Manager only","operationId":"assign_users_to_branch_api_v1_branches__branch_id__users_post","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Branch Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserAssignmentRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/branches/{branch_id}/users/{user_id}":{"delete":{"tags":["Branches"],"summary":"Remove User From Branch","description":"Remove user from branch\n\n**Permissions:** Admin or Manager only","operationId":"remove_user_from_branch_api_v1_branches__branch_id__users__user_id__delete","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Branch Id"}},{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/branches/{branch_id}/alerts":{"get":{"tags":["Branches"],"summary":"Get Branch Alerts","description":"Get branch alerts\n\n**Permissions:** Any authenticated user\n\n**Query Parameters:**\n- is_resolved: Filter by resolution status (default: False - show unresolved)","operationId":"get_branch_alerts_api_v1_branches__branch_id__alerts_get","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Branch Id"}},{"name":"is_resolved","in":"query","required":false,"schema":{"type":"boolean","description":"Show resolved alerts","default":false,"title":"Is Resolved"},"description":"Show resolved alerts"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BranchAlertResponse"},"title":"Response Get Branch Alerts Api V1 Branches  Branch Id  Alerts Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/branches/alerts/{alert_id}/resolve":{"put":{"tags":["Branches"],"summary":"Resolve Alert","description":"Resolve a branch alert\n\n**Permissions:** Admin or Manager only","operationId":"resolve_alert_api_v1_branches_alerts__alert_id__resolve_put","security":[{"Bearer":[]}],"parameters":[{"name":"alert_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Alert Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResolveAlertRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BranchAlertResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/branches/{branch_id}/balances/{currency_id}/reconcile":{"post":{"tags":["Branches"],"summary":"Reconcile Balance","description":"Reconcile branch balance with actual count\n\n**Permissions:** Admin or Manager only\n\nThis endpoint compares the system balance with the actual counted balance\nand creates an adjustment if there's a difference.","operationId":"reconcile_balance_api_v1_branches__branch_id__balances__currency_id__reconcile_post","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Branch Id"}},{"name":"currency_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Currency Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReconciliationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReconciliationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/branches/{branch_id}/balances/{currency_id}/history":{"get":{"tags":["Branches"],"summary":"Get Balance History","description":"Get balance change history\n\n**Permissions:** Any authenticated user\n\n**Query Parameters:**\n- date_from: Filter records from this date (ISO format)\n- date_to: Filter records until this date (ISO format)\n- limit: Maximum number of records (1-500, default: 100)","operationId":"get_balance_history_api_v1_branches__branch_id__balances__currency_id__history_get","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Branch Id"}},{"name":"currency_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Currency Id"}},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Start date (ISO format)","title":"Date From"},"description":"Start date (ISO format)"},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"End date (ISO format)","title":"Date To"},"description":"End date (ISO format)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"description":"Maximum records to return","default":100,"title":"Limit"},"description":"Maximum records to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BalanceHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users":{"post":{"tags":["Users"],"summary":"Create New User","description":"Create a new user account\n\n**Required Fields:**\n- email\n- username\n- password\n- full_name\n\n**Permissions:** user:create","operationId":"create_user_api_v1_users_post","security":[{"Bearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Users"],"summary":"List Users","description":"List all users with pagination and optional filters\n\n**Search:** Search in full_name, email, and username fields\n\n**Filters:**\n- is_active: Filter by active status\n- branch_id: Filter by primary branch\n\n**Permissions:** user:read\n\n**Returns:** Paginated list of users with metadata","operationId":"list_users_api_v1_users_get","security":[{"Bearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search by name, email, or username","title":"Search"},"description":"Search by name, email, or username"},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Branch Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_UserResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/bulk":{"post":{"tags":["Users"],"summary":"Bulk Create Users","description":"Create multiple users in a single request\n\n**Required Fields for each user:**\n- email\n- username\n- password\n- full_name\n\n**Response:**\nReturns summary of successful and failed creations with error details\n\n**Permissions:** user:create\n\n**Example Request:**\n```json\n[\n  {\n    \"email\": \"user1@example.com\",\n    \"username\": \"user1\",\n    \"password\": \"SecurePass123!\",\n    \"full_name\": \"User One\",\n    \"phone_number\": \"+966501234567\",\n    \"role_ids\": []\n  },\n  {\n    \"email\": \"user2@example.com\",\n    \"username\": \"user2\",\n    \"password\": \"SecurePass456!\",\n    \"full_name\": \"User Two\",\n    \"phone_number\": \"+966501234568\",\n    \"role_ids\": []\n  }\n]\n```","operationId":"bulk_create_users_api_v1_users_bulk_post","requestBody":{"content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/UserCreate"},"type":"array","title":"Users"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkOperationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"Bearer":[]}]}},"/api/v1/users/{user_id}":{"get":{"tags":["Users"],"summary":"Get User by ID","description":"Get user details by ID\n\n**Permissions:** user:read","operationId":"get_user_api_v1_users__user_id__get","security":[{"Bearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Users"],"summary":"Update User","description":"Update user information\n\n**Updatable Fields:**\n- full_name\n- phone\n- is_active\n- primary_branch_id\n- role_ids\n\n**Permissions:** user:update","operationId":"update_user_api_v1_users__user_id__put","security":[{"Bearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Users"],"summary":"Delete User","description":"Permanently delete a user\n\n**Warning:** This is a permanent deletion and cannot be undone.\nConsider using the deactivate endpoint instead for soft deletion.\n\n**Note:**\n- Cannot delete your own account\n- May fail if user has related records due to foreign key constraints\n- In such cases, deactivate the user instead\n\n**Permissions:** user:delete","operationId":"delete_user_api_v1_users__user_id__delete","security":[{"Bearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}/change-password":{"post":{"tags":["Users"],"summary":"Change Password","description":"Change user password\n\n**Note:** Users can only change their own password unless they are superuser","operationId":"change_password_api_v1_users__user_id__change_password_post","security":[{"Bearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordChange"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}/deactivate":{"post":{"tags":["Users"],"summary":"Deactivate User","description":"Deactivate user account\n\n**Permissions:** user:delete","operationId":"deactivate_user_api_v1_users__user_id__deactivate_post","security":[{"Bearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}/admin-reset-password":{"post":{"tags":["Users"],"summary":"Admin Reset User Password","description":"Reset user password by admin (no current password required)\n\n**Note:** This endpoint bypasses the current password requirement.\nOnly superusers can access this endpoint.\n\n**Required Fields:**\n- new_password (must meet password strength requirements)\n\n**Permissions:** Superuser only","operationId":"admin_reset_password_api_v1_users__user_id__admin_reset_password_post","security":[{"Bearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminPasswordReset"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me":{"get":{"tags":["Users"],"summary":"Get Current User","description":"Get current authenticated user information\n\n**No special permissions required** - returns current user's own data","operationId":"get_current_user_info_api_v1_users_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"Bearer":[]}]}},"/api/v1/customers":{"post":{"tags":["Customers","Customers"],"summary":"Register New Customer","description":"Register a new customer\n\n**Required Fields:**\n- first_name, last_name\n- phone_number\n- Either national_id or passport_number\n- branch_id (customer's primary branch)\n\n**Optional Fields:**\n- name_ar (Arabic name)\n- email\n- date_of_birth\n- nationality\n- address, city, country\n- customer_type (default: individual)\n\n**Permissions:** Authenticated user with customer:create permission","operationId":"create_customer_api_v1_customers_post","security":[{"Bearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Customers","Customers"],"summary":"Search/List Customers","description":"Search and list customers with advanced filtering\n\n**Search Capabilities:**\n- Full-text search across: name, phone, email, national_id, passport, customer_number\n- Filter by branch, type, risk level, verification status\n- Pagination support\n\n**Query Parameters:**\n- query: Search text (searches multiple fields)\n- branch_id: Filter customers by branch\n- customer_type: individual or corporate\n- risk_level: low, medium, high\n- is_verified: KYC verification status\n- is_active: Show only active customers\n- skip, limit: Pagination\n\n**Returns:**\n- customers: List of customer records\n- total: Total count matching filters\n- skip, limit: Pagination parameters\n\n**Permissions:** Any authenticated user","operationId":"search_customers_api_v1_customers_get","security":[{"Bearer":[]}],"parameters":[{"name":"query","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search text (name, phone, ID)","title":"Query"},"description":"Search text (name, phone, ID)"},{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by branch","title":"Branch Id"},"description":"Filter by branch"},{"name":"customer_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/CustomerType"},{"type":"null"}],"description":"Filter by type","title":"Customer Type"},"description":"Filter by type"},{"name":"risk_level","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/RiskLevel"},{"type":"null"}],"description":"Filter by risk level","title":"Risk Level"},"description":"Filter by risk level"},{"name":"is_verified","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by verification status","title":"Is Verified"},"description":"Filter by verification status"},{"name":"is_active","in":"query","required":false,"schema":{"type":"boolean","description":"Filter by active status","default":true,"title":"Is Active"},"description":"Filter by active status"},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Pagination offset","default":0,"title":"Skip"},"description":"Pagination offset"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Pagination limit","default":100,"title":"Limit"},"description":"Pagination limit"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_CustomerResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/customers/bulk":{"post":{"tags":["Customers","Customers"],"summary":"Bulk Create Customers","description":"Create multiple customers in a single request\n\n**Required Fields for each customer:**\n- first_name, last_name\n- phone_number\n- Either national_id or passport_number\n\n**Note:** All customers will be registered to the same branch specified in branch_id query parameter\n\n**Response:**\nReturns summary of successful and failed creations with error details\n\n**Permissions:** Authenticated user with customer:create permission\n\n**Example Request:**\n```json\n[\n  {\n    \"first_name\": \"Ahmed\",\n    \"last_name\": \"Ali\",\n    \"phone_number\": \"+966501234567\",\n    \"national_id\": \"1234567890\",\n    \"email\": \"ahmed@example.com\",\n    \"customer_type\": \"individual\"\n  },\n  {\n    \"first_name\": \"Sarah\",\n    \"last_name\": \"Mohammed\",\n    \"phone_number\": \"+966501234568\",\n    \"passport_number\": \"P12345678\",\n    \"email\": \"sarah@example.com\",\n    \"customer_type\": \"individual\"\n  }\n]\n```","operationId":"bulk_create_customers_api_v1_customers_bulk_post","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","description":"Branch ID where all customers will be registered","title":"Branch Id"},"description":"Branch ID where all customers will be registered"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CustomerCreate"},"title":"Customers"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkOperationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/customers/{customer_id}":{"get":{"tags":["Customers","Customers"],"summary":"Get Customer Details","description":"Get detailed customer information\n\n**Path Parameters:**\n- customer_id: UUID of the customer\n\n**Query Parameters:**\n- include_documents: Include customer documents in response\n- include_notes: Include customer notes in response\n\n**Returns:**\n- Complete customer information\n- Optional: documents and notes if requested\n\n**Permissions:** Authenticated user","operationId":"get_customer_api_v1_customers__customer_id__get","security":[{"Bearer":[]}],"parameters":[{"name":"customer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Customer Id"}},{"name":"include_documents","in":"query","required":false,"schema":{"type":"boolean","description":"Include documents","default":false,"title":"Include Documents"},"description":"Include documents"},{"name":"include_notes","in":"query","required":false,"schema":{"type":"boolean","description":"Include notes","default":false,"title":"Include Notes"},"description":"Include notes"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Customers","Customers"],"summary":"Update Customer","description":"Update customer information\n\n**Updatable Fields:**\n- Basic info: first_name, last_name, name_ar\n- Contact: phone_number, email\n- Address: address, city, country\n- Type: customer_type\n- Additional info: additional_info (JSONB)\n\n**Non-Updatable Fields:**\n- customer_number\n- national_id, passport_number\n- branch_id (requires separate transfer)\n- Verification fields (use verification endpoint)\n\n**Permissions:** Authenticated user with customer:update permission","operationId":"update_customer_api_v1_customers__customer_id__put","security":[{"Bearer":[]}],"parameters":[{"name":"customer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Customer Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Customers","Customers"],"summary":"Deactivate Customer","description":"Deactivate customer account (soft delete)\n\n**Note:** This does not permanently delete the customer.\nIt sets is_active = False, preserving all historical data.\n\n**Permissions:** Admin only","operationId":"deactivate_customer_api_v1_customers__customer_id__delete","security":[{"Bearer":[]}],"parameters":[{"name":"customer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Customer Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/customers/{customer_id}/verify":{"post":{"tags":["Customers","Customers"],"summary":"Verify Customer KYC","description":"Verify customer KYC status\n\n**Required:**\n- risk_level: Assessed risk level (low, medium, high)\n\n**Optional:**\n- verification_notes: Notes about the verification process\n\n**Prerequisites:**\n- Customer must have uploaded documents\n- Documents should be verified\n\n**Permissions:** User with customer:verify permission (manager or admin)","operationId":"verify_customer_kyc_api_v1_customers__customer_id__verify_post","security":[{"Bearer":[]}],"parameters":[{"name":"customer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Customer Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerKYCVerification"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/customers/{customer_id}/stats":{"get":{"tags":["Customers","Customers"],"summary":"Get Customer Statistics","description":"Get customer statistics and analytics\n\n**Returns:**\n- Account age\n- Transaction count and volume\n- Document statistics\n- Verification status\n- Risk level\n\n**Permissions:** Authenticated user","operationId":"get_customer_stats_api_v1_customers__customer_id__stats_get","security":[{"Bearer":[]}],"parameters":[{"name":"customer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Customer Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/customers/{customer_id}/transactions":{"get":{"tags":["Customers","Customers"],"summary":"Get Customer Transactions","description":"Get customer transaction history\n\nReturns paginated list of all transactions for the specified customer.\n\n**Permissions:** Authenticated user","operationId":"get_customer_transactions_api_v1_customers__customer_id__transactions_get","security":[{"Bearer":[]}],"parameters":[{"name":"customer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Customer Id"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/customers/{customer_id}/documents":{"post":{"tags":["Customers","Customers"],"summary":"Upload Customer Document","description":"Upload document for customer\n\n**Required Fields:**\n- document_type: Type of document (national_id, passport, etc.)\n- document_url: File path or S3 key\n\n**Optional Fields:**\n- document_number\n- issue_date\n- expiry_date\n\n**Document Types:**\n- national_id: National ID card\n- passport: Passport\n- driving_license: Driver's license\n- utility_bill: Utility bill (proof of address)\n- bank_statement: Bank statement\n- commercial_registration: Commercial registration (for corporate)\n- tax_certificate: Tax certificate\n- other: Other documents\n\n**Note:** Actual file upload handling should be implemented separately\nThis endpoint records document metadata after file is uploaded to storage\n\n**Permissions:** Authenticated user with document:upload permission","operationId":"upload_customer_document_api_v1_customers__customer_id__documents_post","security":[{"Bearer":[]}],"parameters":[{"name":"customer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Customer Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerDocumentCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerDocumentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Customers","Customers"],"summary":"Get Customer Documents","description":"Get all documents for a customer\n\n**Query Parameters:**\n- document_type: Filter documents by type\n\n**Permissions:** Authenticated user","operationId":"get_customer_documents_api_v1_customers__customer_id__documents_get","security":[{"Bearer":[]}],"parameters":[{"name":"customer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Customer Id"}},{"name":"document_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/DocumentType"},{"type":"null"}],"description":"Filter by type","title":"Document Type"},"description":"Filter by type"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CustomerDocumentResponse"},"title":"Response Get Customer Documents Api V1 Customers  Customer Id  Documents Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/customers/documents/{document_id}/verify":{"put":{"tags":["Customers","Customers"],"summary":"Verify Document","description":"Verify customer document\n\n**Parameters:**\n- is_verified: Verification status (true/false)\n- verification_notes: Optional notes about verification\n\n**Permissions:** User with document:verify permission (manager or admin)","operationId":"verify_document_api_v1_customers_documents__document_id__verify_put","security":[{"Bearer":[]}],"parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Document Id"}},{"name":"is_verified","in":"query","required":true,"schema":{"type":"boolean","title":"Is Verified"}},{"name":"verification_notes","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Verification Notes"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerDocumentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/customers/{customer_id}/notes":{"post":{"tags":["Customers","Customers"],"summary":"Add Customer Note","description":"Add note to customer record\n\n**Fields:**\n- note_text: Note content\n- is_alert: Whether this is an important alert (default: false)\n\n**Use Cases:**\n- Record important information about customer\n- Flag suspicious activity\n- Document KYC decisions\n- Communication history\n\n**Permissions:** Authenticated user","operationId":"add_customer_note_api_v1_customers__customer_id__notes_post","security":[{"Bearer":[]}],"parameters":[{"name":"customer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Customer Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerNoteCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerNoteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Customers","Customers"],"summary":"Get Customer Notes","description":"Get all notes for a customer\n\n**Query Parameters:**\n- is_alert: Filter to show only alerts (true) or only regular notes (false)\n\n**Permissions:** Authenticated user","operationId":"get_customer_notes_api_v1_customers__customer_id__notes_get","security":[{"Bearer":[]}],"parameters":[{"name":"customer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Customer Id"}},{"name":"is_alert","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by alert status","title":"Is Alert"},"description":"Filter by alert status"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CustomerNoteResponse"},"title":"Response Get Customer Notes Api V1 Customers  Customer Id  Notes Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transactions/income":{"post":{"tags":["transactions"],"summary":"Create Income Transaction","description":"Record an income transaction (service fee, commission, etc.)","operationId":"create_income_transaction_api_v1_transactions_income_post","security":[{"Bearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IncomeTransactionCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IncomeTransactionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["transactions"],"summary":"List Income Transactions","description":"Get list of income transactions with filtering and pagination","operationId":"list_income_transactions_api_v1_transactions_income_get","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by branch","title":"Branch Id"},"description":"Filter by branch"},{"name":"customer_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by customer","title":"Customer Id"},"description":"Filter by customer"},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Start date","title":"Date From"},"description":"Start date"},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"End date","title":"Date To"},"description":"End date"},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of records to skip","default":0,"title":"Skip"},"description":"Number of records to skip"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Number of records to return","default":50,"title":"Limit"},"description":"Number of records to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_IncomeTransactionResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transactions/income/{transaction_id}":{"get":{"tags":["transactions"],"summary":"Get Income Transaction Details","description":"Get detailed information about a specific income transaction","operationId":"get_income_transaction_api_v1_transactions_income__transaction_id__get","security":[{"Bearer":[]}],"parameters":[{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"Transaction ID","title":"Transaction Id"},"description":"Transaction ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IncomeTransactionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transactions/expense":{"post":{"tags":["transactions"],"summary":"Create Expense Transaction","description":"Record an expense transaction (requires manager approval)","operationId":"create_expense_transaction_api_v1_transactions_expense_post","security":[{"Bearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseTransactionCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseTransactionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["transactions"],"summary":"List Expense Transactions","description":"Get list of expense transactions with filtering","operationId":"list_expense_transactions_api_v1_transactions_expense_get","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by branch","title":"Branch Id"},"description":"Filter by branch"},{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/TransactionStatus"},{"type":"null"}],"description":"Filter by status","title":"Status Filter"},"description":"Filter by status"},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Start date","title":"Date From"},"description":"Start date"},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"End date","title":"Date To"},"description":"End date"},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_ExpenseTransactionResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transactions/expense/{transaction_id}/approve":{"post":{"tags":["transactions"],"summary":"Approve Expense Transaction","description":"Approve a pending expense transaction (manager+ only)","operationId":"approve_expense_transaction_api_v1_transactions_expense__transaction_id__approve_post","security":[{"Bearer":[]}],"parameters":[{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"Transaction ID","title":"Transaction Id"},"description":"Transaction ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseApprovalRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExpenseTransactionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transactions/exchange/rate-preview":{"post":{"tags":["transactions"],"summary":"Preview Exchange Rate","description":"Calculate exchange rate and amounts before executing transaction","operationId":"preview_exchange_rate_api_v1_transactions_exchange_rate_preview_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExchangeCalculationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExchangeCalculationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"Bearer":[]}]}},"/api/v1/transactions/exchange":{"post":{"tags":["transactions"],"summary":"Execute Exchange Transaction","description":"Execute a currency exchange transaction","operationId":"create_exchange_transaction_api_v1_transactions_exchange_post","security":[{"Bearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExchangeTransactionCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExchangeTransactionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["transactions"],"summary":"List Exchange Transactions","description":"Get list of exchange transactions with filtering","operationId":"list_exchange_transactions_api_v1_transactions_exchange_get","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by branch","title":"Branch Id"},"description":"Filter by branch"},{"name":"customer_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by customer","title":"Customer Id"},"description":"Filter by customer"},{"name":"from_currency_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by source currency","title":"From Currency Id"},"description":"Filter by source currency"},{"name":"to_currency_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by target currency","title":"To Currency Id"},"description":"Filter by target currency"},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Start date","title":"Date From"},"description":"Start date"},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"End date","title":"Date To"},"description":"End date"},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_ExchangeTransactionResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transactions/exchange/{transaction_id}":{"get":{"tags":["transactions"],"summary":"Get Exchange Transaction Details","description":"Get detailed information about a specific exchange transaction","operationId":"get_exchange_transaction_api_v1_transactions_exchange__transaction_id__get","security":[{"Bearer":[]}],"parameters":[{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"Transaction ID","title":"Transaction Id"},"description":"Transaction ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExchangeTransactionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transactions/transfer":{"post":{"tags":["transactions"],"summary":"Initiate Transfer","description":"Initiate a fund transfer between branches","operationId":"create_transfer_transaction_api_v1_transactions_transfer_post","security":[{"Bearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransferTransactionCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransferTransactionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["transactions"],"summary":"List Transfer Transactions","description":"Get list of transfer transactions with filtering","operationId":"list_transfer_transactions_api_v1_transactions_transfer_get","security":[{"Bearer":[]}],"parameters":[{"name":"from_branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by sender branch","title":"From Branch Id"},"description":"Filter by sender branch"},{"name":"to_branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by recipient branch","title":"To Branch Id"},"description":"Filter by recipient branch"},{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/TransactionStatus"},{"type":"null"}],"description":"Filter by status","title":"Status Filter"},"description":"Filter by status"},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Start date","title":"Date From"},"description":"Start date"},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"End date","title":"Date To"},"description":"End date"},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_TransferTransactionResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transactions/transfer/{transaction_id}/receive":{"post":{"tags":["transactions"],"summary":"Complete Transfer Receipt","description":"Complete a transfer by receiving the funds","operationId":"receive_transfer_api_v1_transactions_transfer__transaction_id__receive_post","security":[{"Bearer":[]}],"parameters":[{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"Transaction ID","title":"Transaction Id"},"description":"Transaction ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransferReceiptRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransferTransactionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transactions/transfer/{transaction_id}":{"get":{"tags":["transactions"],"summary":"Get Transfer Transaction Details","description":"Get detailed information about a specific transfer transaction","operationId":"get_transfer_transaction_api_v1_transactions_transfer__transaction_id__get","security":[{"Bearer":[]}],"parameters":[{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"Transaction ID","title":"Transaction Id"},"description":"Transaction ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransferTransactionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transactions":{"get":{"tags":["transactions"],"summary":"List All Transactions","description":"Get list of all transactions with comprehensive filtering","operationId":"list_all_transactions_api_v1_transactions_get","security":[{"Bearer":[]}],"parameters":[{"name":"transaction_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/TransactionType"},{"type":"null"}],"description":"Filter by type","title":"Transaction Type"},"description":"Filter by type"},{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by branch","title":"Branch Id"},"description":"Filter by branch"},{"name":"customer_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by customer","title":"Customer Id"},"description":"Filter by customer"},{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/TransactionStatus"},{"type":"null"}],"description":"Filter by status","title":"Status Filter"},"description":"Filter by status"},{"name":"currency_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by currency","title":"Currency Id"},"description":"Filter by currency"},{"name":"amount_min","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"description":"Minimum amount","title":"Amount Min"},"description":"Minimum amount"},{"name":"amount_max","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"description":"Maximum amount","title":"Amount Max"},"description":"Maximum amount"},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Start date","title":"Date From"},"description":"Start date"},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"End date","title":"Date To"},"description":"End date"},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Pagination offset","default":0,"title":"Skip"},"description":"Pagination offset"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Page size","default":50,"title":"Limit"},"description":"Page size"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transactions/{transaction_id}":{"get":{"tags":["transactions"],"summary":"Get Transaction Details","description":"Get detailed information about any transaction","operationId":"get_transaction_api_v1_transactions__transaction_id__get","security":[{"Bearer":[]}],"parameters":[{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"Transaction ID","title":"Transaction Id"},"description":"Transaction ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/IncomeTransactionResponse"},{"$ref":"#/components/schemas/ExpenseTransactionResponse"},{"$ref":"#/components/schemas/ExchangeTransactionResponse"},{"$ref":"#/components/schemas/TransferTransactionResponse"}],"title":"Response Get Transaction Api V1 Transactions  Transaction Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transactions/{transaction_id}/cancel":{"post":{"tags":["transactions"],"summary":"Cancel Transaction","description":"Cancel a transaction (manager+ only)","operationId":"cancel_transaction_api_v1_transactions__transaction_id__cancel_post","security":[{"Bearer":[]}],"parameters":[{"name":"transaction_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","description":"Transaction ID","title":"Transaction Id"},"description":"Transaction ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionCancelRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Cancel Transaction Api V1 Transactions  Transaction Id  Cancel Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/transactions/stats/summary":{"get":{"tags":["transactions"],"summary":"Get Transaction Statistics","description":"Get transaction statistics and summary","operationId":"get_transaction_stats_api_v1_transactions_stats_summary_get","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by branch","title":"Branch Id"},"description":"Filter by branch"},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Start date","title":"Date From"},"description":"Start date"},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"End date","title":"Date To"},"description":"End date"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransactionSummary"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vault":{"get":{"tags":["Vault","vault"],"summary":"Get main vault details","description":"Get main vault details and balances\n\n**Permissions:** Any authenticated user","operationId":"get_main_vault_api_v1_vault_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultResponse"}}}}},"security":[{"Bearer":[]}]},"post":{"tags":["Vault","vault"],"summary":"Create new vault","description":"Create a new vault (branch or main)\n\n**Permissions:** Admin only\n**Note:** Only one main vault allowed","operationId":"create_vault_api_v1_vault_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"Bearer":[]}]}},"/api/v1/vault/all":{"get":{"tags":["Vault","vault"],"summary":"List all vaults","description":"Get list of all vaults with pagination and optional filters\n\n**Filters:**\n- branch_id: Filter vaults by branch\n- is_active: Show only active/inactive vaults\n\n**Permissions:** Any authenticated user\n\n**Returns:** Paginated list of vaults with metadata","operationId":"list_all_vaults_api_v1_vault_all_get","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by branch","title":"Branch Id"},"description":"Filter by branch"},{"name":"is_active","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by active status","default":true,"title":"Is Active"},"description":"Filter by active status"},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of records to skip","default":0,"title":"Skip"},"description":"Number of records to skip"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Maximum records to return","default":100,"title":"Limit"},"description":"Maximum records to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_VaultResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vault/balances":{"get":{"tags":["Vault","vault"],"summary":"Get all vault balances","description":"Get all currency balances for vault(s)\n\n**Permissions:** Any authenticated user","operationId":"get_vault_balances_api_v1_vault_balances_get","security":[{"Bearer":[]}],"parameters":[{"name":"vault_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Specific vault ID","title":"Vault Id"},"description":"Specific vault ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VaultBalanceResponse"},"title":"Response Get Vault Balances Api V1 Vault Balances Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vault/balances/{currency_id}":{"get":{"tags":["Vault","vault"],"summary":"Get specific currency balance","description":"Get balance for specific currency\n\n**Permissions:** Any authenticated user","operationId":"get_vault_balance_by_currency_api_v1_vault_balances__currency_id__get","security":[{"Bearer":[]}],"parameters":[{"name":"currency_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Currency Id"}},{"name":"vault_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Specific vault ID","title":"Vault Id"},"description":"Specific vault ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultBalanceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vault/balances/adjust":{"put":{"tags":["Vault","vault"],"summary":"Adjust vault balance (admin only)","description":"Manually adjust vault balance\n\n**Permissions:** Admin only\n**Warning:** This is for corrections only, not regular operations","operationId":"adjust_vault_balance_api_v1_vault_balances_adjust_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultBalanceUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultBalanceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"Bearer":[]}]}},"/api/v1/vault/transfer/vault-to-vault":{"post":{"tags":["Vault","vault"],"summary":"Transfer between vaults","description":"Transfer funds between two vaults\n\n**Permissions:** Manager or Admin\n**Approval:** Required if amount >= threshold","operationId":"transfer_vault_to_vault_api_v1_vault_transfer_vault_to_vault_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultToVaultTransferCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultTransferResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"Bearer":[]}]}},"/api/v1/vault/transfer/to-branch":{"post":{"tags":["Vault","vault"],"summary":"Transfer from vault to branch","description":"Transfer funds from vault to branch\n\n**Permissions:** Manager or Admin\n**Approval:** Required if amount >= threshold","operationId":"transfer_to_branch_api_v1_vault_transfer_to_branch_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultToBranchTransferCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultTransferResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"Bearer":[]}]}},"/api/v1/vault/transfer/from-branch":{"post":{"tags":["Vault","vault"],"summary":"Transfer from branch to vault","description":"Transfer funds from branch to vault\n\n**Permissions:** Manager or Admin","operationId":"transfer_from_branch_api_v1_vault_transfer_from_branch_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BranchToVaultTransferCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultTransferResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"Bearer":[]}]}},"/api/v1/vault/transfer/{transfer_id}/approve":{"put":{"tags":["Vault","vault"],"summary":"Approve or reject transfer","description":"Approve or reject a pending transfer\n\n**Permissions:** Manager or Admin only","operationId":"approve_transfer_api_v1_vault_transfer__transfer_id__approve_put","security":[{"Bearer":[]}],"parameters":[{"name":"transfer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Transfer Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TransferApproval"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultTransferResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vault/transfer/{transfer_id}/complete":{"put":{"tags":["Vault","vault"],"summary":"Mark transfer as completed","description":"Mark transfer as received/completed\n\n**Permissions:** Any user with vault:receive permission","operationId":"complete_transfer_api_v1_vault_transfer__transfer_id__complete_put","security":[{"Bearer":[]}],"parameters":[{"name":"transfer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Transfer Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultTransferResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vault/transfer/{transfer_id}":{"delete":{"tags":["Vault","vault"],"summary":"Cancel transfer","description":"Cancel a pending or in-transit transfer\n\n**Permissions:** Manager or Admin","operationId":"cancel_transfer_api_v1_vault_transfer__transfer_id__delete","security":[{"Bearer":[]}],"parameters":[{"name":"transfer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Transfer Id"}},{"name":"reason","in":"query","required":true,"schema":{"type":"string","minLength":10,"description":"Cancellation reason","title":"Reason"},"description":"Cancellation reason"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultTransferResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vault/transfers":{"get":{"tags":["Vault","vault"],"summary":"Get transfer history","description":"Get transfer history with pagination and filters\n\n**Filters:**\n- vault_id: Filter by vault\n- branch_id: Filter by branch\n- status: Filter by transfer status\n- transfer_type: Filter by transfer type\n- date_from/date_to: Date range filter\n\n**Permissions:** Any authenticated user\n\n**Returns:** Paginated list of vault transfers with metadata","operationId":"get_transfers_api_v1_vault_transfers_get","security":[{"Bearer":[]}],"parameters":[{"name":"vault_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Vault Id"}},{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Branch Id"}},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/VaultTransferStatus"},{"type":"null"}],"title":"Status"}},{"name":"transfer_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/VaultTransferType"},{"type":"null"}],"title":"Transfer Type"}},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date From"}},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date To"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedResponse_VaultTransferResponse_"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vault/transfers/{transfer_id}":{"get":{"tags":["Vault","vault"],"summary":"Get transfer details","description":"Get specific transfer details\n\n**Permissions:** Any authenticated user","operationId":"get_transfer_api_v1_vault_transfers__transfer_id__get","security":[{"Bearer":[]}],"parameters":[{"name":"transfer_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Transfer Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultTransferResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vault/reconciliation":{"post":{"tags":["Vault","vault"],"summary":"Perform vault reconciliation","description":"Perform vault balance reconciliation\n\n**Permissions:** Manager or Admin\n**Purpose:** Compare system balance with physical count","operationId":"reconcile_vault_api_v1_vault_reconciliation_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultReconciliationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultReconciliationReport"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"Bearer":[]}]}},"/api/v1/vault/reconciliation/report":{"get":{"tags":["Vault","vault"],"summary":"Get latest reconciliation report","description":"Get latest reconciliation report for vault\n\n**Permissions:** Any authenticated user\n**Note:** This would retrieve stored reconciliation records","operationId":"get_reconciliation_report_api_v1_vault_reconciliation_report_get","security":[{"Bearer":[]}],"parameters":[{"name":"vault_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Vault Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultReconciliationReport"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vault/statistics":{"get":{"tags":["Vault","vault"],"summary":"Get vault statistics","description":"Get comprehensive vault statistics\n\n**Permissions:** Any authenticated user","operationId":"get_vault_statistics_api_v1_vault_statistics_get","security":[{"Bearer":[]}],"parameters":[{"name":"vault_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Vault Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultStatistics"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vault/statistics/transfers":{"get":{"tags":["Vault","vault"],"summary":"Get transfer statistics","description":"Get transfer summary statistics\n\n**Permissions:** Any authenticated user","operationId":"get_transfer_statistics_api_v1_vault_statistics_transfers_get","security":[{"Bearer":[]}],"parameters":[{"name":"vault_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Vault Id"}},{"name":"period_days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":1,"description":"Period in days","default":30,"title":"Period Days"},"description":"Period in days"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultTransferSummary"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vault/{vault_id}":{"get":{"tags":["Vault","vault"],"summary":"Get vault by ID","description":"Get specific vault details\n\n**Permissions:** Any authenticated user","operationId":"get_vault_api_v1_vault__vault_id__get","security":[{"Bearer":[]}],"parameters":[{"name":"vault_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Vault Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Vault","vault"],"summary":"Update vault","description":"Update vault information\n\n**Permissions:** Admin only","operationId":"update_vault_api_v1_vault__vault_id__put","security":[{"Bearer":[]}],"parameters":[{"name":"vault_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Vault Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VaultResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/daily-summary":{"get":{"tags":["Reports"],"summary":"Get Daily Summary","description":" Daily Transaction Summary Report","operationId":"get_daily_summary_api_v1_reports_daily_summary_get","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Branch ID (optional)","title":"Branch Id"},"description":"Branch ID (optional)"},{"name":"target_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Target date (default: today)","title":"Target Date"},"description":"Target date (default: today)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/monthly-revenue":{"get":{"tags":["Reports"],"summary":"Get Monthly Revenue","description":" Monthly Revenue Report","operationId":"get_monthly_revenue_api_v1_reports_monthly_revenue_get","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Branch Id"}},{"name":"year","in":"query","required":true,"schema":{"type":"integer","description":"Year (e.g., 2025)","title":"Year"},"description":"Year (e.g., 2025)"},{"name":"month","in":"query","required":true,"schema":{"type":"integer","maximum":12,"minimum":1,"description":"Month (1-12)","title":"Month"},"description":"Month (1-12)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/branch-performance":{"get":{"tags":["Reports"],"summary":"Get Branch Performance","description":" Branch Performance Comparison","operationId":"get_branch_performance_api_v1_reports_branch_performance_get","security":[{"Bearer":[]}],"parameters":[{"name":"start_date","in":"query","required":true,"schema":{"type":"string","format":"date","description":"Start date","title":"Start Date"},"description":"Start date"},{"name":"end_date","in":"query","required":true,"schema":{"type":"string","format":"date","description":"End date","title":"End Date"},"description":"End date"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/exchange-trends":{"get":{"tags":["Reports"],"summary":"Get Exchange Trends","description":" Currency Exchange Rate Trends","operationId":"get_exchange_trends_api_v1_reports_exchange_trends_get","security":[{"Bearer":[]}],"parameters":[{"name":"from_currency","in":"query","required":true,"schema":{"type":"string","description":"From currency code (e.g., USD)","title":"From Currency"},"description":"From currency code (e.g., USD)"},{"name":"to_currency","in":"query","required":true,"schema":{"type":"string","description":"To currency code (e.g., YER)","title":"To Currency"},"description":"To currency code (e.g., YER)"},{"name":"start_date","in":"query","required":true,"schema":{"type":"string","format":"date","title":"Start Date"}},{"name":"end_date","in":"query","required":true,"schema":{"type":"string","format":"date","title":"End Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/balance-snapshot":{"get":{"tags":["Reports"],"summary":"Get Balance Snapshot","description":" Branch Balance Snapshot","operationId":"get_balance_snapshot_api_v1_reports_balance_snapshot_get","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Branch Id"}},{"name":"snapshot_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Snapshot date (default: today)","title":"Snapshot Date"},"description":"Snapshot date (default: today)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/balance-movement":{"get":{"tags":["Reports"],"summary":"Get Balance Movement","description":" Balance Movement Report","operationId":"get_balance_movement_api_v1_reports_balance_movement_get","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"query","required":true,"schema":{"type":"string","title":"Branch Id"}},{"name":"currency_code","in":"query","required":true,"schema":{"type":"string","title":"Currency Code"}},{"name":"start_date","in":"query","required":true,"schema":{"type":"string","format":"date","title":"Start Date"}},{"name":"end_date","in":"query","required":true,"schema":{"type":"string","format":"date","title":"End Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/low-balance-alerts":{"get":{"tags":["Reports"],"summary":"Get Low Balance Alerts","description":" Low Balance Alerts","operationId":"get_low_balance_alerts_api_v1_reports_low_balance_alerts_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"Bearer":[]}]}},"/api/v1/reports/user-activity":{"get":{"tags":["Reports"],"summary":"Get User Activity","description":" User Activity Report","operationId":"get_user_activity_api_v1_reports_user_activity_get","security":[{"Bearer":[]}],"parameters":[{"name":"user_id","in":"query","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"start_date","in":"query","required":true,"schema":{"type":"string","format":"date","title":"Start Date"}},{"name":"end_date","in":"query","required":true,"schema":{"type":"string","format":"date","title":"End Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/audit-trail":{"get":{"tags":["Reports"],"summary":"Get Audit Trail","description":" Audit Trail Report","operationId":"get_audit_trail_api_v1_reports_audit_trail_get","security":[{"Bearer":[]}],"parameters":[{"name":"entity_type","in":"query","required":true,"schema":{"type":"string","description":"Entity type (e.g., transaction, branch, user)","title":"Entity Type"},"description":"Entity type (e.g., transaction, branch, user)"},{"name":"entity_id","in":"query","required":true,"schema":{"type":"string","description":"Entity ID","title":"Entity Id"},"description":"Entity ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/reports/export":{"post":{"tags":["Reports"],"summary":"Export Report","description":" Export Report to File (JSON/Excel/PDF)","operationId":"export_report_api_v1_reports_export_post","security":[{"Bearer":[]}],"parameters":[{"name":"report_type","in":"query","required":true,"schema":{"type":"string","title":"Report Type"}},{"name":"format","in":"query","required":true,"schema":{"type":"string","title":"Format"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","default":{},"title":"Filters"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dashboard/overview":{"get":{"tags":["Dashboard"],"summary":"Get Dashboard Overview","description":" Dashboard Overview - Main KPIs\n\n**Returns:**\n- Today's transaction count & revenue\n- Active branches count\n- Low balance alerts\n- Pending approvals\n- Top currencies by volume\n- Quick stats","operationId":"get_dashboard_overview_api_v1_dashboard_overview_get","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Branch ID (optional)","title":"Branch Id"},"description":"Branch ID (optional)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dashboard/charts/transaction-volume":{"get":{"tags":["Dashboard"],"summary":"Get Transaction Volume Chart","description":" Transaction Volume Chart Data\n\n**Periods:**\n- daily: Last 30 days\n- weekly: Last 12 weeks\n- monthly: Last 12 months\n\n**Returns:**\nChart data ready for frontend visualization","operationId":"get_transaction_volume_chart_api_v1_dashboard_charts_transaction_volume_get","security":[{"Bearer":[]}],"parameters":[{"name":"period","in":"query","required":false,"schema":{"type":"string","description":"daily, weekly, or monthly","default":"daily","title":"Period"},"description":"daily, weekly, or monthly"},{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Branch Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dashboard/charts/revenue-trend":{"get":{"tags":["Dashboard"],"summary":"Get Revenue Trend Chart","description":" Revenue Trend Chart\n\n**Returns:**\nMonthly or yearly revenue trends","operationId":"get_revenue_trend_chart_api_v1_dashboard_charts_revenue_trend_get","security":[{"Bearer":[]}],"parameters":[{"name":"period","in":"query","required":false,"schema":{"type":"string","description":"monthly or yearly","default":"monthly","title":"Period"},"description":"monthly or yearly"},{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Branch Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dashboard/charts/currency-distribution":{"get":{"tags":["Dashboard"],"summary":"Get Currency Distribution Chart","description":" Currency Distribution Pie Chart\n\n**Returns:**\nTransaction volume distribution by currency","operationId":"get_currency_distribution_chart_api_v1_dashboard_charts_currency_distribution_get","security":[{"Bearer":[]}],"parameters":[{"name":"branch_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Branch Id"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":90,"minimum":1,"description":"Number of days to analyze (1-90)","default":30,"title":"Days"},"description":"Number of days to analyze (1-90)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dashboard/charts/branch-comparison":{"get":{"tags":["Dashboard"],"summary":"Get Branch Comparison Chart","description":" Branch Comparison Bar Chart\n\n**Metrics:**\n- transactions: Total transaction count\n- revenue: Total revenue generated\n- efficiency: Transactions per staff member\n\n**Permissions:** Admin only","operationId":"get_branch_comparison_chart_api_v1_dashboard_charts_branch_comparison_get","security":[{"Bearer":[]}],"parameters":[{"name":"metric","in":"query","required":false,"schema":{"type":"string","description":"transactions, revenue, or efficiency","default":"transactions","title":"Metric"},"description":"transactions, revenue, or efficiency"},{"name":"period_days","in":"query","required":false,"schema":{"type":"integer","maximum":90,"minimum":7,"default":30,"title":"Period Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/dashboard/alerts":{"get":{"tags":["Dashboard"],"summary":"Get Dashboard Alerts","description":" Dashboard Alerts & Notifications\n\n**Returns:**\n- Critical alerts\n- Warnings\n- Info notifications","operationId":"get_dashboard_alerts_api_v1_dashboard_alerts_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"Bearer":[]}]}},"/api/v1/rate-sync/sync-rates":{"post":{"tags":["Rate Synchronization"],"summary":"Initiate Rate Sync","description":"Initiate exchange rate synchronization from external source\n\nThis endpoint:\n1. Fetches current rates from external API (with fallback)\n2. Compares with existing rates in database\n3. Creates a pending update request for review\n4. Returns request ID and comparison data\n\nThe request will expire after 24 hours if not approved.","operationId":"initiate_rate_sync_api_v1_rate_sync_sync_rates_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InitiateRateSyncRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RateSyncResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"Bearer":[]}]}},"/api/v1/rate-sync/sync-requests/{request_id}":{"get":{"tags":["Rate Synchronization"],"summary":"Get Sync Request Details","description":"Get details of a rate update request for review\n\nReturns:\n- Request status and metadata\n- Comparison of current vs fetched rates\n- Change percentages\n- Expiration information","operationId":"get_sync_request_details_api_v1_rate_sync_sync_requests__request_id__get","security":[{"Bearer":[]}],"parameters":[{"name":"request_id","in":"path","required":true,"schema":{"type":"string","title":"Request Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestDetailsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rate-sync/sync-requests/{request_id}/approve":{"post":{"tags":["Rate Synchronization"],"summary":"Approve And Apply Rates","description":"Approve and apply rates from a pending request\n\nThis endpoint:\n1. Validates the request is still pending and not expired\n2. Applies the fetched rates to the database\n3. Calculates buy/sell rates with specified spread\n4. Creates exchange rate history entries\n5. Marks request as approved\n\nIf any rates fail to apply, the response will include error details.","operationId":"approve_and_apply_rates_api_v1_rate_sync_sync_requests__request_id__approve_post","security":[{"Bearer":[]}],"parameters":[{"name":"request_id","in":"path","required":true,"schema":{"type":"string","title":"Request Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApproveRatesRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApproveRatesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rate-sync/sync-requests/{request_id}/reject":{"post":{"tags":["Rate Synchronization"],"summary":"Reject Rates","description":"Reject a pending rate update request\n\nThe request will be marked as rejected and no rates will be applied.","operationId":"reject_rates_api_v1_rate_sync_sync_requests__request_id__reject_post","security":[{"Bearer":[]}],"parameters":[{"name":"request_id","in":"path","required":true,"schema":{"type":"string","title":"Request Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RejectRatesRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RejectRatesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/rate-sync/sync-requests":{"get":{"tags":["Rate Synchronization"],"summary":"List Pending Requests","description":"List all pending rate update requests\n\nReturns pending requests that haven't expired yet.\nUseful for seeing what requests need review.","operationId":"list_pending_requests_api_v1_rate_sync_sync_requests_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PendingRequestsResponse"}}}}},"security":[{"Bearer":[]}]}},"/api/v1/rate-sync/sync-requests/cleanup-expired":{"post":{"tags":["Rate Synchronization"],"summary":"Cleanup Expired Requests","description":"Cleanup expired pending requests\n\nMarks all pending requests that have passed their expiry time as expired.\nThis is useful for maintenance and can be called periodically.","operationId":"cleanup_expired_requests_api_v1_rate_sync_sync_requests_cleanup_expired_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"Bearer":[]}]}},"/api/v1/ping":{"get":{"tags":["Health"],"summary":"Ping","description":"Simple health check endpoint\n\nReturns:\n    dict: Success message","operationId":"ping_api_v1_ping_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/health":{"get":{"tags":["Health"],"summary":"Health Check","description":"Detailed health check endpoint\n\nReturns:\n    dict: System health status","operationId":"health_check_api_v1_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AdminPasswordReset":{"properties":{"new_password":{"type":"string","maxLength":100,"minLength":8,"title":"New Password"}},"type":"object","required":["new_password"],"title":"AdminPasswordReset","description":"Schema for admin password reset (no current password required)"},"ApproveRatesRequest":{"properties":{"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Approval notes"},"spread_percentage":{"anyOf":[{"type":"number","maximum":10.0,"minimum":0.0},{"type":"string"}],"title":"Spread Percentage","description":"Buy/sell spread percentage","default":"2.0"}},"type":"object","title":"ApproveRatesRequest","description":"Request to approve and apply rates","example":{"notes":"Rates look good, approved","spread_percentage":2.0}},"ApproveRatesResponse":{"properties":{"request_id":{"type":"string","title":"Request Id"},"status":{"type":"string","title":"Status"},"applied_count":{"type":"integer","title":"Applied Count"},"failed_count":{"type":"integer","title":"Failed Count"},"errors":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Errors"}},"type":"object","required":["request_id","status","applied_count","failed_count"],"title":"ApproveRatesResponse","description":"Response from rate approval"},"BalanceHistoryRecord":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"change_type":{"type":"string","title":"Change Type"},"amount":{"type":"string","title":"Amount"},"balance_before":{"type":"string","title":"Balance Before"},"balance_after":{"type":"string","title":"Balance After"},"performed_at":{"type":"string","format":"date-time","title":"Performed At"},"performed_by":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Performed By"},"reference_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Reference Id"},"reference_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reference Type"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["id","change_type","amount","balance_before","balance_after","performed_at"],"title":"BalanceHistoryRecord","description":"Single balance history record\n\nSimplified version for list responses","example":{"amount":5000.0,"balance_after":15000.0,"balance_before":10000.0,"change_type":"transaction","id":"123e4567-e89b-12d3-a456-426614174000","notes":"Daily income deposit","performed_at":"2025-10-26T10:30:00Z","performed_by":"223e4567-e89b-12d3-a456-426614174001","reference_id":"323e4567-e89b-12d3-a456-426614174002","reference_type":"income_transaction"}},"BalanceHistoryResponse":{"properties":{"branch_id":{"type":"string","format":"uuid","title":"Branch Id"},"currency_id":{"type":"string","format":"uuid","title":"Currency Id"},"currency_code":{"type":"string","title":"Currency Code"},"currency_name":{"type":"string","title":"Currency Name"},"current_balance":{"type":"string","title":"Current Balance"},"total_records":{"type":"integer","title":"Total Records"},"date_from":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date From"},"date_to":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date To"},"history":{"items":{"$ref":"#/components/schemas/BalanceHistoryRecord"},"type":"array","title":"History"}},"type":"object","required":["branch_id","currency_id","currency_code","currency_name","current_balance","total_records","history"],"title":"BalanceHistoryResponse","description":"Complete balance history response with metadata\n\nUsed in: GET /branches/{branch_id}/balances/{currency_id}/history","example":{"branch_id":"123e4567-e89b-12d3-a456-426614174000","currency_code":"USD","currency_id":"223e4567-e89b-12d3-a456-426614174001","currency_name":"US Dollar","current_balance":50000.0,"date_from":"2025-10-01T00:00:00Z","date_to":"2025-10-26T23:59:59Z","history":[],"total_records":3}},"BranchAlertResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"branch_id":{"type":"string","format":"uuid","title":"Branch Id"},"currency_id":{"type":"string","format":"uuid","title":"Currency Id"},"currency_code":{"type":"string","title":"Currency Code"},"alert_type":{"type":"string","title":"Alert Type"},"severity":{"type":"string","title":"Severity"},"title":{"type":"string","title":"Title"},"message":{"type":"string","title":"Message"},"triggered_at":{"type":"string","format":"date-time","title":"Triggered At"},"is_resolved":{"type":"boolean","title":"Is Resolved"},"resolved_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Resolved At"},"resolved_by":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Resolved By"},"resolution_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Resolution Notes"}},"type":"object","required":["id","branch_id","currency_id","currency_code","alert_type","severity","title","message","triggered_at","is_resolved"],"title":"BranchAlertResponse","description":"Branch alert response"},"BranchBalanceListResponse":{"properties":{"total":{"type":"integer","title":"Total"},"balances":{"items":{"anyOf":[{"$ref":"#/components/schemas/BranchBalanceResponse"},{"type":"object"}]},"type":"array","title":"Balances"},"total_in_usd":{"type":"string","title":"Total In Usd","description":"Total balance value converted to base currency"},"base_currency_code":{"type":"string","title":"Base Currency Code","description":"Base currency code used for conversion"}},"type":"object","required":["total","balances","total_in_usd","base_currency_code"],"title":"BranchBalanceListResponse","description":"Schema for list of balances"},"BranchBalanceResponse":{"properties":{"balance":{"type":"string","title":"Balance","description":"Current balance"},"reserved_balance":{"type":"string","title":"Reserved Balance","description":"Reserved balance","default":0},"minimum_threshold":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Minimum Threshold","description":"Minimum threshold"},"maximum_threshold":{"anyOf":[{"type":"string","gt":0},{"type":"null"}],"title":"Maximum Threshold","description":"Maximum threshold"},"id":{"type":"string","format":"uuid","title":"Id"},"branch_id":{"type":"string","format":"uuid","title":"Branch Id"},"currency_id":{"type":"string","format":"uuid","title":"Currency Id"},"currency_code":{"type":"string","title":"Currency Code"},"currency_name":{"type":"string","title":"Currency Name"},"available_balance":{"type":"string","title":"Available Balance"},"last_updated":{"type":"string","format":"date-time","title":"Last Updated"},"last_reconciled_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Reconciled At"},"usd_value":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Usd Value"}},"type":"object","required":["balance","id","branch_id","currency_id","currency_code","currency_name","available_balance","last_updated"],"title":"BranchBalanceResponse","description":"Schema for branch balance response"},"BranchCreate":{"properties":{"code":{"type":"string","maxLength":10,"minLength":5,"title":"Code","description":"Branch code (e.g., BR001)"},"name_en":{"type":"string","maxLength":200,"minLength":2,"title":"Name En","description":"English name"},"name_ar":{"type":"string","maxLength":200,"minLength":2,"title":"Name Ar","description":"Arabic name"},"region":{"allOf":[{"$ref":"#/components/schemas/RegionEnum"}],"description":"Geographic region"},"address":{"type":"string","maxLength":500,"minLength":10,"title":"Address","description":"Full address"},"city":{"type":"string","maxLength":100,"minLength":2,"title":"City","description":"City"},"phone":{"type":"string","maxLength":20,"minLength":10,"title":"Phone","description":"Phone number"},"email":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Email","description":"Email address"},"manager_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Manager Id","description":"Manager user ID"},"is_main_branch":{"type":"boolean","title":"Is Main Branch","description":"Whether this is the main branch","default":false},"opening_balance_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Opening Balance Date","description":"Opening date"}},"type":"object","required":["code","name_en","name_ar","region","address","city","phone"],"title":"BranchCreate","description":"Schema for creating a branch"},"BranchResponse":{"properties":{"code":{"type":"string","maxLength":10,"minLength":5,"title":"Code","description":"Branch code (e.g., BR001)"},"name_en":{"type":"string","maxLength":200,"minLength":2,"title":"Name En","description":"English name"},"name_ar":{"type":"string","maxLength":200,"minLength":2,"title":"Name Ar","description":"Arabic name"},"region":{"allOf":[{"$ref":"#/components/schemas/RegionEnum"}],"description":"Geographic region"},"address":{"type":"string","maxLength":500,"minLength":10,"title":"Address","description":"Full address"},"city":{"type":"string","maxLength":100,"minLength":2,"title":"City","description":"City"},"phone":{"type":"string","maxLength":20,"minLength":10,"title":"Phone","description":"Phone number"},"email":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Email","description":"Email address"},"id":{"type":"string","format":"uuid","title":"Id"},"manager_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Manager Id"},"is_main_branch":{"type":"boolean","title":"Is Main Branch"},"is_active":{"type":"boolean","title":"Is Active"},"opening_balance_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Opening Balance Date"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["code","name_en","name_ar","region","address","city","phone","id","manager_id","is_main_branch","is_active","created_at","updated_at"],"title":"BranchResponse","description":"Schema for branch response - FIXED: opening_balance_date is truly optional"},"BranchToVaultTransferCreate":{"properties":{"amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Amount","description":"Transfer amount (must be positive)"},"currency_id":{"type":"string","format":"uuid","title":"Currency Id"},"notes":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Notes"},"branch_id":{"type":"string","format":"uuid","title":"Branch Id"},"vault_id":{"type":"string","format":"uuid","title":"Vault Id"}},"type":"object","required":["amount","currency_id","branch_id","vault_id"],"title":"BranchToVaultTransferCreate","description":"Create transfer from branch to vault"},"BranchUpdate":{"properties":{"name_en":{"anyOf":[{"type":"string","maxLength":200,"minLength":2},{"type":"null"}],"title":"Name En"},"name_ar":{"anyOf":[{"type":"string","maxLength":200,"minLength":2},{"type":"null"}],"title":"Name Ar"},"region":{"anyOf":[{"$ref":"#/components/schemas/RegionEnum"},{"type":"null"}]},"address":{"anyOf":[{"type":"string","maxLength":500,"minLength":10},{"type":"null"}],"title":"Address"},"city":{"anyOf":[{"type":"string","maxLength":100,"minLength":2},{"type":"null"}],"title":"City"},"phone":{"anyOf":[{"type":"string","maxLength":20,"minLength":10},{"type":"null"}],"title":"Phone"},"email":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Email"},"manager_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Manager Id"},"is_main_branch":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Main Branch"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"BranchUpdate","description":"Schema for updating a branch"},"BranchWithBalances":{"properties":{"code":{"type":"string","maxLength":10,"minLength":5,"title":"Code","description":"Branch code (e.g., BR001)"},"name_en":{"type":"string","maxLength":200,"minLength":2,"title":"Name En","description":"English name"},"name_ar":{"type":"string","maxLength":200,"minLength":2,"title":"Name Ar","description":"Arabic name"},"region":{"allOf":[{"$ref":"#/components/schemas/RegionEnum"}],"description":"Geographic region"},"address":{"type":"string","maxLength":500,"minLength":10,"title":"Address","description":"Full address"},"city":{"type":"string","maxLength":100,"minLength":2,"title":"City","description":"City"},"phone":{"type":"string","maxLength":20,"minLength":10,"title":"Phone","description":"Phone number"},"email":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Email","description":"Email address"},"id":{"type":"string","format":"uuid","title":"Id"},"manager_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Manager Id"},"is_main_branch":{"type":"boolean","title":"Is Main Branch"},"is_active":{"type":"boolean","title":"Is Active"},"opening_balance_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Opening Balance Date"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"balances":{"items":{"$ref":"#/components/schemas/BranchBalanceResponse"},"type":"array","title":"Balances","default":[]},"total_value_in_base_currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Total Value In Base Currency","description":"Total value of all balances in base currency (USD)"}},"type":"object","required":["code","name_en","name_ar","region","address","city","phone","id","manager_id","is_main_branch","is_active","created_at","updated_at"],"title":"BranchWithBalances","description":"Schema for branch with balances"},"BulkOperationResponse":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"total":{"type":"integer","title":"Total","description":"Total items processed"},"successful":{"type":"integer","title":"Successful","description":"Number of successful operations"},"failed":{"type":"integer","title":"Failed","description":"Number of failed operations"},"errors":{"items":{"type":"object"},"type":"array","title":"Errors","description":"List of errors for failed items"}},"type":"object","required":["total","successful","failed"],"title":"BulkOperationResponse","description":"Bulk operation response\nReports success/failure for each item"},"CurrencyCreate":{"properties":{"code":{"type":"string","maxLength":3,"minLength":3,"title":"Code","description":"ISO 4217 currency code"},"name_en":{"type":"string","maxLength":100,"minLength":2,"title":"Name En","description":"English name"},"name_ar":{"type":"string","maxLength":100,"minLength":2,"title":"Name Ar","description":"Arabic name"},"symbol":{"anyOf":[{"type":"string","maxLength":10},{"type":"null"}],"title":"Symbol","description":"Currency symbol"},"is_base_currency":{"type":"boolean","title":"Is Base Currency","description":"Is this the base currency?","default":false},"decimal_places":{"type":"integer","maximum":8.0,"minimum":0.0,"title":"Decimal Places","description":"Number of decimal places","default":2},"is_active":{"type":"boolean","title":"Is Active","default":true}},"type":"object","required":["code","name_en","name_ar"],"title":"CurrencyCreate","description":"Schema for creating a new currency"},"CurrencyPairRequest":{"properties":{"from_currency":{"type":"string","maxLength":3,"minLength":3,"title":"From Currency","description":"Source currency code"},"to_currency":{"type":"string","maxLength":3,"minLength":3,"title":"To Currency","description":"Target currency code"}},"type":"object","required":["from_currency","to_currency"],"title":"CurrencyPairRequest","description":"Currency pair specification"},"CurrencyResponse":{"properties":{"code":{"type":"string","maxLength":3,"minLength":3,"title":"Code","description":"ISO 4217 currency code"},"name_en":{"type":"string","maxLength":100,"minLength":2,"title":"Name En","description":"English name"},"name_ar":{"type":"string","maxLength":100,"minLength":2,"title":"Name Ar","description":"Arabic name"},"symbol":{"anyOf":[{"type":"string","maxLength":10},{"type":"null"}],"title":"Symbol","description":"Currency symbol"},"is_base_currency":{"type":"boolean","title":"Is Base Currency","description":"Is this the base currency?","default":false},"decimal_places":{"type":"integer","maximum":8.0,"minimum":0.0,"title":"Decimal Places","description":"Number of decimal places","default":2},"id":{"type":"string","format":"uuid","title":"Id"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["code","name_en","name_ar","id","is_active","created_at","updated_at"],"title":"CurrencyResponse","description":"Currency response schema"},"CurrencyUpdate":{"properties":{"name_en":{"anyOf":[{"type":"string","maxLength":100,"minLength":2},{"type":"null"}],"title":"Name En"},"name_ar":{"anyOf":[{"type":"string","maxLength":100,"minLength":2},{"type":"null"}],"title":"Name Ar"},"symbol":{"anyOf":[{"type":"string","maxLength":10},{"type":"null"}],"title":"Symbol"},"is_base_currency":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Base Currency"},"decimal_places":{"anyOf":[{"type":"integer","maximum":8.0,"minimum":0.0},{"type":"null"}],"title":"Decimal Places"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"CurrencyUpdate","description":"Schema for updating currency"},"CurrencyWithRates":{"properties":{"code":{"type":"string","maxLength":3,"minLength":3,"title":"Code","description":"ISO 4217 currency code"},"name_en":{"type":"string","maxLength":100,"minLength":2,"title":"Name En","description":"English name"},"name_ar":{"type":"string","maxLength":100,"minLength":2,"title":"Name Ar","description":"Arabic name"},"symbol":{"anyOf":[{"type":"string","maxLength":10},{"type":"null"}],"title":"Symbol","description":"Currency symbol"},"is_base_currency":{"type":"boolean","title":"Is Base Currency","description":"Is this the base currency?","default":false},"decimal_places":{"type":"integer","maximum":8.0,"minimum":0.0,"title":"Decimal Places","description":"Number of decimal places","default":2},"id":{"type":"string","format":"uuid","title":"Id"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"current_rates":{"items":{"$ref":"#/components/schemas/ExchangeRateResponse"},"type":"array","title":"Current Rates","default":[]}},"type":"object","required":["code","name_en","name_ar","id","is_active","created_at","updated_at"],"title":"CurrencyWithRates","description":"Currency response with current exchange rates"},"CustomerCreate":{"properties":{"first_name":{"type":"string","maxLength":100,"minLength":2,"title":"First Name"},"last_name":{"type":"string","maxLength":100,"minLength":2,"title":"Last Name"},"name_ar":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Name Ar"},"national_id":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"National Id"},"passport_number":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Passport Number"},"phone_number":{"type":"string","maxLength":20,"minLength":10,"title":"Phone Number"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"date_of_birth":{"type":"string","format":"date","title":"Date Of Birth"},"nationality":{"type":"string","maxLength":100,"minLength":2,"title":"Nationality"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"city":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"City"},"country":{"type":"string","maxLength":100,"title":"Country","default":"Saudi Arabia"},"customer_type":{"allOf":[{"$ref":"#/components/schemas/CustomerType"}],"default":"individual"},"additional_info":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Additional Info"},"branch_id":{"type":"string","format":"uuid","title":"Branch Id","description":"Primary branch ID"},"risk_level":{"allOf":[{"$ref":"#/components/schemas/RiskLevel"}],"default":"low"}},"type":"object","required":["first_name","last_name","phone_number","date_of_birth","nationality","branch_id"],"title":"CustomerCreate","description":"Schema for creating a new customer","example":{"address":"Riyadh, Al Malaz District","branch_id":"123e4567-e89b-12d3-a456-426614174000","city":"Riyadh","country":"Saudi Arabia","customer_type":"individual","date_of_birth":"1990-01-15","email":"ahmed.ali@example.com","first_name":"Ahmed","last_name":"Ali","name_ar":" ","national_id":"1234567890","nationality":"Saudi","phone_number":"+966501234567","risk_level":"low"}},"CustomerDetailResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"customer_number":{"type":"string","title":"Customer Number"},"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"},"name_ar":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name Ar"},"national_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"National Id"},"passport_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Passport Number"},"phone_number":{"type":"string","title":"Phone Number"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"date_of_birth":{"type":"string","format":"date","title":"Date Of Birth"},"nationality":{"type":"string","title":"Nationality"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"city":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"City"},"country":{"type":"string","title":"Country"},"customer_type":{"$ref":"#/components/schemas/CustomerType"},"risk_level":{"$ref":"#/components/schemas/RiskLevel"},"is_active":{"type":"boolean","title":"Is Active"},"is_verified":{"type":"boolean","title":"Is Verified"},"registered_at":{"type":"string","format":"date-time","title":"Registered At"},"verified_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Verified At"},"last_transaction_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Transaction Date"},"branch_id":{"type":"string","format":"uuid","title":"Branch Id"},"registered_by_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Registered By Id"},"verified_by_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Verified By Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"additional_info":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Additional Info"},"documents":{"items":{"$ref":"#/components/schemas/CustomerDocumentResponse"},"type":"array","title":"Documents","default":[]},"notes":{"items":{"$ref":"#/components/schemas/CustomerNoteResponse"},"type":"array","title":"Notes","default":[]},"total_transactions":{"type":"integer","title":"Total Transactions","default":0}},"type":"object","required":["id","customer_number","first_name","last_name","phone_number","date_of_birth","nationality","country","customer_type","risk_level","is_active","is_verified","registered_at","branch_id","created_at","updated_at"],"title":"CustomerDetailResponse","description":"Comprehensive customer information with documents and notes"},"CustomerDocumentCreate":{"properties":{"document_type":{"$ref":"#/components/schemas/DocumentType"},"document_number":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Document Number"},"issue_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Issue Date"},"expiry_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expiry Date"},"verification_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Verification Notes"},"customer_id":{"type":"string","format":"uuid","title":"Customer Id"},"document_url":{"type":"string","maxLength":500,"title":"Document Url"}},"type":"object","required":["document_type","customer_id","document_url"],"title":"CustomerDocumentCreate","description":"Schema for uploading customer document","example":{"customer_id":"123e4567-e89b-12d3-a456-426614174000","document_number":"1234567890","document_type":"national_id","document_url":"/documents/customers/123e4567/national_id.pdf","expiry_date":"2030-01-01","issue_date":"2020-01-01"}},"CustomerDocumentResponse":{"properties":{"document_type":{"$ref":"#/components/schemas/DocumentType"},"document_number":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Document Number"},"issue_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Issue Date"},"expiry_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Expiry Date"},"verification_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Verification Notes"},"id":{"type":"string","format":"uuid","title":"Id"},"customer_id":{"type":"string","format":"uuid","title":"Customer Id"},"document_url":{"type":"string","title":"Document Url"},"is_verified":{"type":"boolean","title":"Is Verified"},"verified_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Verified At"},"verified_by_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Verified By Id"},"uploaded_by_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Uploaded By Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["document_type","id","customer_id","document_url","is_verified","created_at","updated_at"],"title":"CustomerDocumentResponse","description":"Schema for document response"},"CustomerKYCVerification":{"properties":{"customer_id":{"type":"string","format":"uuid","title":"Customer Id"},"is_verified":{"type":"boolean","title":"Is Verified"},"verification_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Verification Notes"},"risk_level":{"anyOf":[{"$ref":"#/components/schemas/RiskLevel"},{"type":"null"}]}},"type":"object","required":["customer_id","is_verified"],"title":"CustomerKYCVerification","description":"Schema for KYC verification","example":{"customer_id":"123e4567-e89b-12d3-a456-426614174000","is_verified":true,"risk_level":"low","verification_notes":"All documents verified"}},"CustomerNoteCreate":{"properties":{"note_text":{"type":"string","maxLength":5000,"minLength":1,"title":"Note Text"},"is_alert":{"type":"boolean","title":"Is Alert","default":false},"customer_id":{"type":"string","format":"uuid","title":"Customer Id"}},"type":"object","required":["note_text","customer_id"],"title":"CustomerNoteCreate","description":"Schema for creating customer note","example":{"customer_id":"123e4567-e89b-12d3-a456-426614174000","is_alert":false,"note_text":"Customer requested higher transaction limit"}},"CustomerNoteResponse":{"properties":{"note_text":{"type":"string","maxLength":5000,"minLength":1,"title":"Note Text"},"is_alert":{"type":"boolean","title":"Is Alert","default":false},"id":{"type":"string","format":"uuid","title":"Id"},"customer_id":{"type":"string","format":"uuid","title":"Customer Id"},"created_by_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Created By Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["note_text","id","customer_id","created_at","updated_at"],"title":"CustomerNoteResponse","description":"Schema for note response"},"CustomerResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"customer_number":{"type":"string","title":"Customer Number"},"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"},"name_ar":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name Ar"},"national_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"National Id"},"passport_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Passport Number"},"phone_number":{"type":"string","title":"Phone Number"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"date_of_birth":{"type":"string","format":"date","title":"Date Of Birth"},"nationality":{"type":"string","title":"Nationality"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"city":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"City"},"country":{"type":"string","title":"Country"},"customer_type":{"$ref":"#/components/schemas/CustomerType"},"risk_level":{"$ref":"#/components/schemas/RiskLevel"},"is_active":{"type":"boolean","title":"Is Active"},"is_verified":{"type":"boolean","title":"Is Verified"},"registered_at":{"type":"string","format":"date-time","title":"Registered At"},"verified_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Verified At"},"last_transaction_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Transaction Date"},"branch_id":{"type":"string","format":"uuid","title":"Branch Id"},"registered_by_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Registered By Id"},"verified_by_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Verified By Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"additional_info":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Additional Info"}},"type":"object","required":["id","customer_number","first_name","last_name","phone_number","date_of_birth","nationality","country","customer_type","risk_level","is_active","is_verified","registered_at","branch_id","created_at","updated_at"],"title":"CustomerResponse","description":"Schema for customer response - NO VALIDATION on output"},"CustomerType":{"type":"string","enum":["individual","corporate"],"title":"CustomerType","description":"Customer type enumeration"},"CustomerUpdate":{"properties":{"first_name":{"anyOf":[{"type":"string","maxLength":100,"minLength":2},{"type":"null"}],"title":"First Name"},"last_name":{"anyOf":[{"type":"string","maxLength":100,"minLength":2},{"type":"null"}],"title":"Last Name"},"name_ar":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Name Ar"},"phone_number":{"anyOf":[{"type":"string","maxLength":20,"minLength":10},{"type":"null"}],"title":"Phone Number"},"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address"},"city":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"City"},"country":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Country"},"risk_level":{"anyOf":[{"$ref":"#/components/schemas/RiskLevel"},{"type":"null"}]},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"additional_info":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Additional Info"}},"type":"object","title":"CustomerUpdate","description":"Schema for updating customer information"},"DocumentType":{"type":"string","enum":["national_id","passport","driving_license","utility_bill","bank_statement","commercial_registration","tax_certificate","other"],"title":"DocumentType","description":"Document type enumeration"},"ExchangeCalculationRequest":{"properties":{"from_currency_id":{"type":"string","format":"uuid","title":"From Currency Id"},"to_currency_id":{"type":"string","format":"uuid","title":"To Currency Id"},"from_amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"From Amount"},"commission_percentage":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Commission Percentage"}},"type":"object","required":["from_currency_id","to_currency_id","from_amount"],"title":"ExchangeCalculationRequest","description":"Schema for exchange rate calculation"},"ExchangeCalculationResponse":{"properties":{"from_currency_id":{"type":"string","format":"uuid","title":"From Currency Id"},"from_currency_code":{"type":"string","title":"From Currency Code"},"to_currency_id":{"type":"string","format":"uuid","title":"To Currency Id"},"to_currency_code":{"type":"string","title":"To Currency Code"},"from_amount":{"type":"string","title":"From Amount"},"to_amount":{"type":"string","title":"To Amount"},"exchange_rate":{"type":"string","title":"Exchange Rate"},"commission_percentage":{"type":"string","title":"Commission Percentage"},"commission_amount":{"type":"string","title":"Commission Amount"},"total_cost":{"type":"string","title":"Total Cost"},"effective_rate":{"type":"string","title":"Effective Rate"}},"type":"object","required":["from_currency_id","from_currency_code","to_currency_id","to_currency_code","from_amount","to_amount","exchange_rate","commission_percentage","commission_amount","total_cost","effective_rate"],"title":"ExchangeCalculationResponse","description":"Schema for exchange calculation result"},"ExchangeRateCreate":{"properties":{"from_currency_id":{"type":"string","format":"uuid","title":"From Currency Id"},"to_currency_id":{"type":"string","format":"uuid","title":"To Currency Id"},"rate":{"anyOf":[{"type":"number"},{"type":"string"}],"title":"Rate","description":"Exchange rate"},"buy_rate":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Buy Rate","description":"Buy rate"},"sell_rate":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Sell Rate","description":"Sell rate"},"effective_from":{"type":"string","format":"date-time","title":"Effective From"},"notes":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Notes"}},"type":"object","required":["from_currency_id","to_currency_id","rate"],"title":"ExchangeRateCreate","description":"Schema for creating a new exchange rate"},"ExchangeRateListResponse":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"items":{"$ref":"#/components/schemas/ExchangeRateResponse"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["data","total"],"title":"ExchangeRateListResponse","description":"Response for list of exchange rates"},"ExchangeRateResponse":{"properties":{"from_currency_id":{"type":"string","format":"uuid","title":"From Currency Id"},"to_currency_id":{"type":"string","format":"uuid","title":"To Currency Id"},"rate":{"type":"string","title":"Rate","description":"Exchange rate"},"buy_rate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Buy Rate","description":"Buy rate"},"sell_rate":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sell Rate","description":"Sell rate"},"effective_from":{"type":"string","format":"date-time","title":"Effective From"},"notes":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Notes"},"id":{"type":"string","format":"uuid","title":"Id"},"effective_to":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Effective To"},"set_by":{"type":"string","format":"uuid","title":"Set By"},"is_current":{"type":"boolean","title":"Is Current"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"from_currency":{"$ref":"#/components/schemas/CurrencyResponse"},"to_currency":{"$ref":"#/components/schemas/CurrencyResponse"}},"type":"object","required":["from_currency_id","to_currency_id","rate","id","effective_to","set_by","is_current","created_at","updated_at","from_currency","to_currency"],"title":"ExchangeRateResponse","description":"Exchange rate response schema"},"ExchangeTransactionCreate":{"properties":{"branch_id":{"type":"string","format":"uuid","title":"Branch Id","description":"Branch ID"},"customer_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Customer Id","description":"Customer ID"},"from_currency_id":{"type":"string","format":"uuid","title":"From Currency Id","description":"Source currency ID"},"to_currency_id":{"type":"string","format":"uuid","title":"To Currency Id","description":"Target currency ID"},"from_amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"From Amount","description":"Amount in source currency"},"exchange_rate":{"anyOf":[{"anyOf":[{"type":"number"},{"type":"string"}],"gt":0},{"type":"null"}],"title":"Exchange Rate","description":"Exchange rate (if not provided, uses current rate)"},"commission_percentage":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"null"}],"title":"Commission Percentage","description":"Commission percentage (if not provided, uses default)"},"reference_number":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Reference Number"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Human-readable transaction summary"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"transaction_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Transaction Date"}},"type":"object","required":["branch_id","from_currency_id","to_currency_id","from_amount"],"title":"ExchangeTransactionCreate","description":"Schema for creating exchange transaction","example":{"branch_id":"223e4567-e89b-12d3-a456-426614174001","commission_percentage":1.5,"customer_id":"323e4567-e89b-12d3-a456-426614174002","description":"USD to SAR exchange for customer","exchange_rate":3.75,"from_amount":1000.0,"from_currency_id":"423e4567-e89b-12d3-a456-426614174003","notes":"Walk-in transaction","reference_number":"EXC-2025-001","to_currency_id":"523e4567-e89b-12d3-a456-426614174004"}},"ExchangeTransactionResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"transaction_number":{"type":"string","title":"Transaction Number"},"transaction_type":{"$ref":"#/components/schemas/TransactionType"},"status":{"$ref":"#/components/schemas/TransactionStatus"},"branch_id":{"type":"string","format":"uuid","title":"Branch Id"},"branch_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Branch Name","description":"Branch name"},"customer_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Customer Id"},"user_id":{"type":"string","format":"uuid","title":"User Id"},"from_currency_id":{"type":"string","format":"uuid","title":"From Currency Id"},"to_currency_id":{"type":"string","format":"uuid","title":"To Currency Id"},"from_amount":{"type":"string","title":"From Amount"},"to_amount":{"type":"string","title":"To Amount"},"exchange_rate_used":{"type":"string","title":"Exchange Rate Used"},"commission_amount":{"type":"string","title":"Commission Amount"},"commission_percentage":{"type":"string","title":"Commission Percentage"},"effective_rate":{"type":"string","title":"Effective Rate","description":"Effective rate with commission"},"total_cost":{"type":"string","title":"Total Cost","description":"Total cost including commission"},"reference_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reference Number"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"transaction_date":{"type":"string","format":"date-time","title":"Transaction Date"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"},"cancelled_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Cancelled At"},"cancelled_by_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Cancelled By Id"},"cancellation_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cancellation Reason"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","transaction_number","transaction_type","status","branch_id","customer_id","user_id","from_currency_id","to_currency_id","from_amount","to_amount","exchange_rate_used","commission_amount","commission_percentage","effective_rate","total_cost","transaction_date","created_at","updated_at"],"title":"ExchangeTransactionResponse","description":"Schema for exchange transaction response"},"ExpenseApprovalRequest":{"properties":{"approval_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Approval Notes","description":"Approval notes"}},"type":"object","title":"ExpenseApprovalRequest","description":"Schema for approving expense"},"ExpenseCategory":{"type":"string","enum":["rent","salary","salaries","utilities","maintenance","supplies","marketing","other"],"title":"ExpenseCategory","description":"Expense type categories shared across API, DB and scripts"},"ExpenseTransactionCreate":{"properties":{"amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Amount","description":"Transaction amount (must be positive)"},"currency_id":{"type":"string","format":"uuid","title":"Currency Id","description":"Currency ID"},"branch_id":{"type":"string","format":"uuid","title":"Branch Id","description":"Branch ID"},"customer_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Customer Id","description":"Customer ID (optional)"},"reference_number":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Reference Number","description":"External reference number"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Human-readable transaction summary"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Transaction notes"},"transaction_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Transaction Date","description":"Transaction date (defaults to now)"},"expense_category":{"allOf":[{"$ref":"#/components/schemas/ExpenseCategory"}],"description":"Expense category"},"expense_to":{"type":"string","maxLength":200,"title":"Expense To","description":"Payee name"},"approval_required":{"type":"boolean","title":"Approval Required","description":"Whether approval is required","default":false}},"type":"object","required":["amount","currency_id","branch_id","expense_category","expense_to"],"title":"ExpenseTransactionCreate","description":"Schema for creating expense transaction","example":{"amount":5000.0,"approval_required":true,"branch_id":"223e4567-e89b-12d3-a456-426614174001","currency_id":"123e4567-e89b-12d3-a456-426614174000","expense_category":"rent","expense_to":"Property Owner LLC","notes":"January 2025 monthly rent payment","reference_number":"RENT-JAN-2025"}},"ExpenseTransactionResponse":{"properties":{"amount":{"type":"string","title":"Amount","description":"Transaction amount (must be positive)"},"currency_id":{"type":"string","format":"uuid","title":"Currency Id","description":"Currency ID"},"branch_id":{"type":"string","format":"uuid","title":"Branch Id","description":"Branch ID"},"customer_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Customer Id","description":"Customer ID (optional)"},"reference_number":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Reference Number","description":"External reference number"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Human-readable transaction summary"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Transaction notes"},"transaction_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Transaction Date","description":"Transaction date (defaults to now)"},"id":{"type":"string","format":"uuid","title":"Id"},"transaction_number":{"type":"string","title":"Transaction Number"},"transaction_type":{"$ref":"#/components/schemas/TransactionType"},"status":{"$ref":"#/components/schemas/TransactionStatus"},"expense_category":{"$ref":"#/components/schemas/ExpenseCategory"},"expense_to":{"type":"string","title":"Expense To"},"approval_required":{"type":"boolean","title":"Approval Required"},"approved_by_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Approved By Id"},"approved_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Approved At"},"user_id":{"type":"string","format":"uuid","title":"User Id"},"branch_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Branch Name","description":"Branch name"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"},"cancelled_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Cancelled At"},"cancelled_by_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Cancelled By Id"},"cancellation_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cancellation Reason"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"is_approved":{"type":"boolean","title":"Is Approved","description":"Approval status","default":false}},"type":"object","required":["amount","currency_id","branch_id","id","transaction_number","transaction_type","status","expense_category","expense_to","approval_required","user_id","created_at","updated_at"],"title":"ExpenseTransactionResponse","description":"Schema for expense transaction response"},"ExternalSourceEnum":{"type":"string","enum":["exchangerate-api","frankfurter","auto"],"title":"ExternalSourceEnum","description":"Available external rate sources"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"IncomeCategory":{"type":"string","enum":["service_fee","exchange_commission","transfer_fee","commission","interest","other"],"title":"IncomeCategory","description":"Income source categories shared across API, DB and scripts"},"IncomeTransactionCreate":{"properties":{"amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Amount","description":"Transaction amount (must be positive)"},"currency_id":{"type":"string","format":"uuid","title":"Currency Id","description":"Currency ID"},"branch_id":{"type":"string","format":"uuid","title":"Branch Id","description":"Branch ID"},"customer_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Customer Id","description":"Customer ID (optional)"},"reference_number":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Reference Number","description":"External reference number"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Human-readable transaction summary"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Transaction notes"},"transaction_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Transaction Date","description":"Transaction date (defaults to now)"},"income_category":{"allOf":[{"$ref":"#/components/schemas/IncomeCategory"}],"description":"Income category"},"income_source":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Income Source","description":"Description of income source"}},"type":"object","required":["amount","currency_id","branch_id","income_category"],"title":"IncomeTransactionCreate","description":"Schema for creating income transaction","example":{"amount":150.5,"branch_id":"223e4567-e89b-12d3-a456-426614174001","currency_id":"123e4567-e89b-12d3-a456-426614174000","customer_id":"323e4567-e89b-12d3-a456-426614174002","income_category":"service_fee","income_source":"Money transfer service fee","notes":"Standard service fee for international transfer","reference_number":"REF-2025-001"}},"IncomeTransactionResponse":{"properties":{"amount":{"type":"string","title":"Amount","description":"Transaction amount (must be positive)"},"currency_id":{"type":"string","format":"uuid","title":"Currency Id","description":"Currency ID"},"branch_id":{"type":"string","format":"uuid","title":"Branch Id","description":"Branch ID"},"customer_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Customer Id","description":"Customer ID (optional)"},"reference_number":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Reference Number","description":"External reference number"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Human-readable transaction summary"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Transaction notes"},"transaction_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Transaction Date","description":"Transaction date (defaults to now)"},"id":{"type":"string","format":"uuid","title":"Id"},"transaction_number":{"type":"string","title":"Transaction Number"},"transaction_type":{"$ref":"#/components/schemas/TransactionType"},"status":{"$ref":"#/components/schemas/TransactionStatus"},"income_category":{"$ref":"#/components/schemas/IncomeCategory"},"income_source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Income Source"},"user_id":{"type":"string","format":"uuid","title":"User Id"},"branch_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Branch Name","description":"Branch name"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"},"cancelled_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Cancelled At"},"cancelled_by_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Cancelled By Id"},"cancellation_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cancellation Reason"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["amount","currency_id","branch_id","id","transaction_number","transaction_type","status","income_category","user_id","created_at","updated_at"],"title":"IncomeTransactionResponse","description":"Schema for income transaction response"},"InitiateRateSyncRequest":{"properties":{"base_currency":{"type":"string","maxLength":3,"minLength":3,"title":"Base Currency","description":"Base currency for fetching","default":"USD"},"target_currencies":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Target Currencies","description":"Specific currencies to sync (None = all active)"},"source":{"allOf":[{"$ref":"#/components/schemas/ExternalSourceEnum"}],"description":"External API source","default":"auto"},"specific_pair":{"anyOf":[{"$ref":"#/components/schemas/CurrencyPairRequest"},{"type":"null"}],"description":"Sync only specific currency pair"}},"type":"object","title":"InitiateRateSyncRequest","description":"Request to initiate rate synchronization","example":{"base_currency":"USD","source":"auto","target_currencies":["EUR","GBP","TRY"]}},"LoginRequest":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username","description":"Username or email"},"password":{"type":"string","maxLength":100,"minLength":8,"title":"Password","description":"Password"}},"type":"object","required":["username","password"],"title":"LoginRequest","description":"Login request schema","example":{"password":"Admin@123","username":"admin"}},"LoginResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"refresh_token":{"type":"string","title":"Refresh Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"},"user":{"$ref":"#/components/schemas/UserResponse"}},"type":"object","required":["access_token","refresh_token","user"],"title":"LoginResponse","description":"Login response schema"},"MessageResponse":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"MessageResponse","description":"Generic message response"},"PaginatedResponse_CurrencyResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"items":{"$ref":"#/components/schemas/CurrencyResponse"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","description":"Total number of items"},"page":{"type":"integer","title":"Page","description":"Current page number"},"page_size":{"type":"integer","title":"Page Size","description":"Items per page"},"total_pages":{"type":"integer","title":"Total Pages","description":"Total number of pages"},"has_next":{"type":"boolean","title":"Has Next","description":"Whether there is a next page"},"has_prev":{"type":"boolean","title":"Has Prev","description":"Whether there is a previous page"}},"type":"object","required":["data","total","page","page_size","total_pages","has_next","has_prev"],"title":"PaginatedResponse[CurrencyResponse]"},"PaginatedResponse_CustomerResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"items":{"$ref":"#/components/schemas/CustomerResponse"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","description":"Total number of items"},"page":{"type":"integer","title":"Page","description":"Current page number"},"page_size":{"type":"integer","title":"Page Size","description":"Items per page"},"total_pages":{"type":"integer","title":"Total Pages","description":"Total number of pages"},"has_next":{"type":"boolean","title":"Has Next","description":"Whether there is a next page"},"has_prev":{"type":"boolean","title":"Has Prev","description":"Whether there is a previous page"}},"type":"object","required":["data","total","page","page_size","total_pages","has_next","has_prev"],"title":"PaginatedResponse[CustomerResponse]"},"PaginatedResponse_ExchangeTransactionResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"items":{"$ref":"#/components/schemas/ExchangeTransactionResponse"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","description":"Total number of items"},"page":{"type":"integer","title":"Page","description":"Current page number"},"page_size":{"type":"integer","title":"Page Size","description":"Items per page"},"total_pages":{"type":"integer","title":"Total Pages","description":"Total number of pages"},"has_next":{"type":"boolean","title":"Has Next","description":"Whether there is a next page"},"has_prev":{"type":"boolean","title":"Has Prev","description":"Whether there is a previous page"}},"type":"object","required":["data","total","page","page_size","total_pages","has_next","has_prev"],"title":"PaginatedResponse[ExchangeTransactionResponse]"},"PaginatedResponse_ExpenseTransactionResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"items":{"$ref":"#/components/schemas/ExpenseTransactionResponse"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","description":"Total number of items"},"page":{"type":"integer","title":"Page","description":"Current page number"},"page_size":{"type":"integer","title":"Page Size","description":"Items per page"},"total_pages":{"type":"integer","title":"Total Pages","description":"Total number of pages"},"has_next":{"type":"boolean","title":"Has Next","description":"Whether there is a next page"},"has_prev":{"type":"boolean","title":"Has Prev","description":"Whether there is a previous page"}},"type":"object","required":["data","total","page","page_size","total_pages","has_next","has_prev"],"title":"PaginatedResponse[ExpenseTransactionResponse]"},"PaginatedResponse_IncomeTransactionResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"items":{"$ref":"#/components/schemas/IncomeTransactionResponse"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","description":"Total number of items"},"page":{"type":"integer","title":"Page","description":"Current page number"},"page_size":{"type":"integer","title":"Page Size","description":"Items per page"},"total_pages":{"type":"integer","title":"Total Pages","description":"Total number of pages"},"has_next":{"type":"boolean","title":"Has Next","description":"Whether there is a next page"},"has_prev":{"type":"boolean","title":"Has Prev","description":"Whether there is a previous page"}},"type":"object","required":["data","total","page","page_size","total_pages","has_next","has_prev"],"title":"PaginatedResponse[IncomeTransactionResponse]"},"PaginatedResponse_TransferTransactionResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"items":{"$ref":"#/components/schemas/TransferTransactionResponse"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","description":"Total number of items"},"page":{"type":"integer","title":"Page","description":"Current page number"},"page_size":{"type":"integer","title":"Page Size","description":"Items per page"},"total_pages":{"type":"integer","title":"Total Pages","description":"Total number of pages"},"has_next":{"type":"boolean","title":"Has Next","description":"Whether there is a next page"},"has_prev":{"type":"boolean","title":"Has Prev","description":"Whether there is a previous page"}},"type":"object","required":["data","total","page","page_size","total_pages","has_next","has_prev"],"title":"PaginatedResponse[TransferTransactionResponse]"},"PaginatedResponse_Union_BranchResponse__BranchWithBalances__":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"items":{"anyOf":[{"$ref":"#/components/schemas/BranchResponse"},{"$ref":"#/components/schemas/BranchWithBalances"}]},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","description":"Total number of items"},"page":{"type":"integer","title":"Page","description":"Current page number"},"page_size":{"type":"integer","title":"Page Size","description":"Items per page"},"total_pages":{"type":"integer","title":"Total Pages","description":"Total number of pages"},"has_next":{"type":"boolean","title":"Has Next","description":"Whether there is a next page"},"has_prev":{"type":"boolean","title":"Has Prev","description":"Whether there is a previous page"}},"type":"object","required":["data","total","page","page_size","total_pages","has_next","has_prev"],"title":"PaginatedResponse[Union[BranchResponse, BranchWithBalances]]"},"PaginatedResponse_UserResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"items":{"$ref":"#/components/schemas/UserResponse"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","description":"Total number of items"},"page":{"type":"integer","title":"Page","description":"Current page number"},"page_size":{"type":"integer","title":"Page Size","description":"Items per page"},"total_pages":{"type":"integer","title":"Total Pages","description":"Total number of pages"},"has_next":{"type":"boolean","title":"Has Next","description":"Whether there is a next page"},"has_prev":{"type":"boolean","title":"Has Prev","description":"Whether there is a previous page"}},"type":"object","required":["data","total","page","page_size","total_pages","has_next","has_prev"],"title":"PaginatedResponse[UserResponse]"},"PaginatedResponse_VaultResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"items":{"$ref":"#/components/schemas/VaultResponse"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","description":"Total number of items"},"page":{"type":"integer","title":"Page","description":"Current page number"},"page_size":{"type":"integer","title":"Page Size","description":"Items per page"},"total_pages":{"type":"integer","title":"Total Pages","description":"Total number of pages"},"has_next":{"type":"boolean","title":"Has Next","description":"Whether there is a next page"},"has_prev":{"type":"boolean","title":"Has Prev","description":"Whether there is a previous page"}},"type":"object","required":["data","total","page","page_size","total_pages","has_next","has_prev"],"title":"PaginatedResponse[VaultResponse]"},"PaginatedResponse_VaultTransferResponse_":{"properties":{"success":{"type":"boolean","title":"Success","default":true},"data":{"items":{"$ref":"#/components/schemas/VaultTransferResponse"},"type":"array","title":"Data"},"total":{"type":"integer","title":"Total","description":"Total number of items"},"page":{"type":"integer","title":"Page","description":"Current page number"},"page_size":{"type":"integer","title":"Page Size","description":"Items per page"},"total_pages":{"type":"integer","title":"Total Pages","description":"Total number of pages"},"has_next":{"type":"boolean","title":"Has Next","description":"Whether there is a next page"},"has_prev":{"type":"boolean","title":"Has Prev","description":"Whether there is a previous page"}},"type":"object","required":["data","total","page","page_size","total_pages","has_next","has_prev"],"title":"PaginatedResponse[VaultTransferResponse]"},"PasswordChange":{"properties":{"current_password":{"type":"string","title":"Current Password"},"new_password":{"type":"string","maxLength":100,"minLength":8,"title":"New Password"}},"type":"object","required":["current_password","new_password"],"title":"PasswordChange","description":"Schema for password change"},"PasswordResetConfirm":{"properties":{"token":{"type":"string","title":"Token"},"new_password":{"type":"string","minLength":8,"title":"New Password"}},"type":"object","required":["token","new_password"],"title":"PasswordResetConfirm","description":"Password reset confirmation schema"},"PasswordResetRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"}},"type":"object","required":["email"],"title":"PasswordResetRequest","description":"Password reset request schema"},"PendingRequestsResponse":{"properties":{"count":{"type":"integer","title":"Count"},"requests":{"items":{"type":"object"},"type":"array","title":"Requests"}},"type":"object","required":["count","requests"],"title":"PendingRequestsResponse","description":"List of pending requests"},"RateSyncResponse":{"properties":{"request_id":{"type":"string","title":"Request Id"},"status":{"type":"string","title":"Status"},"source":{"type":"string","title":"Source"},"base_currency":{"type":"string","title":"Base Currency"},"rates_count":{"type":"integer","title":"Rates Count"},"expires_at":{"type":"string","title":"Expires At"},"rates":{"type":"object","title":"Rates"}},"type":"object","required":["request_id","status","source","base_currency","rates_count","expires_at","rates"],"title":"RateSyncResponse","description":"Response from rate sync initiation","example":{"base_currency":"USD","expires_at":"2025-11-11T10:30:00","rates":{"USD/EUR":{"change":"0.01","change_percentage":"1.09","current_rate":"0.91","fetched_rate":"0.92","from_currency":"USD","has_current":true,"source":"exchangerate-api","to_currency":"EUR"}},"rates_count":7,"request_id":"123e4567-e89b-12d3-a456-426614174000","source":"exchangerate-api","status":"pending"}},"ReconciliationRequest":{"properties":{"actual_balance":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"Actual Balance","description":"Actual counted balance"},"notes":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Notes","description":"Additional notes about the reconciliation"}},"type":"object","required":["actual_balance"],"title":"ReconciliationRequest","description":"Request schema for balance reconciliation\n\nUsed in: POST /branches/{branch_id}/balances/{currency_id}/reconcile","example":{"actual_balance":52500.5,"notes":"Physical count performed at end of business day. Discrepancy found due to unrecorded commission."}},"ReconciliationResponse":{"properties":{"branch_id":{"type":"string","format":"uuid","title":"Branch Id"},"currency_id":{"type":"string","format":"uuid","title":"Currency Id"},"currency_code":{"type":"string","title":"Currency Code"},"expected_balance":{"type":"string","title":"Expected Balance"},"actual_balance":{"type":"string","title":"Actual Balance"},"difference":{"type":"string","title":"Difference"},"difference_percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Difference Percentage"},"adjustment_made":{"type":"boolean","title":"Adjustment Made"},"reconciliation_time":{"type":"string","format":"date-time","title":"Reconciliation Time"},"reconciled_by":{"type":"string","format":"uuid","title":"Reconciled By"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["branch_id","currency_id","currency_code","expected_balance","actual_balance","difference","adjustment_made","reconciliation_time","reconciled_by"],"title":"ReconciliationResponse","description":"Response schema for balance reconciliation\n\nReturns detailed reconciliation results","example":{"actual_balance":52500.5,"adjustment_made":true,"branch_id":"123e4567-e89b-12d3-a456-426614174000","currency_code":"USD","currency_id":"223e4567-e89b-12d3-a456-426614174001","difference":2500.5,"difference_percentage":5.0,"expected_balance":50000.0,"notes":"Physical count reconciliation","reconciled_by":"323e4567-e89b-12d3-a456-426614174002","reconciliation_time":"2025-10-26T18:00:00Z"}},"RefreshTokenRequest":{"properties":{"refresh_token":{"type":"string","title":"Refresh Token","description":"Refresh token from login"}},"type":"object","required":["refresh_token"],"title":"RefreshTokenRequest","description":"Refresh token request schema"},"RefreshTokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token"],"title":"RefreshTokenResponse","description":"Refresh token response schema"},"RegionEnum":{"type":"string","enum":["Istanbul_European","Istanbul_Asian","Ankara","Izmir","Bursa","Antalya","Adana","Gaziantep","Konya","Other"],"title":"RegionEnum","description":"Regions for branch locations in Turkey"},"RejectRatesRequest":{"properties":{"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes","description":"Rejection reason"}},"type":"object","title":"RejectRatesRequest","description":"Request to reject rates","example":{"notes":"Rates seem inaccurate"}},"RejectRatesResponse":{"properties":{"request_id":{"type":"string","title":"Request Id"},"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"}},"type":"object","required":["request_id","status","message"],"title":"RejectRatesResponse","description":"Response from rate rejection"},"RequestDetailsResponse":{"properties":{"request_id":{"type":"string","title":"Request Id"},"status":{"type":"string","title":"Status"},"source":{"type":"string","title":"Source"},"base_currency":{"type":"string","title":"Base Currency"},"requested_by":{"type":"string","title":"Requested By"},"requested_at":{"type":"string","title":"Requested At"},"expires_at":{"type":"string","title":"Expires At"},"is_expired":{"type":"boolean","title":"Is Expired"},"rates_count":{"type":"integer","title":"Rates Count"},"rates":{"type":"object","title":"Rates"},"reviewed_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reviewed By"},"reviewed_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reviewed At"},"review_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Review Notes"},"rates_applied_count":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rates Applied Count"}},"type":"object","required":["request_id","status","source","base_currency","requested_by","requested_at","expires_at","is_expired","rates_count","rates"],"title":"RequestDetailsResponse","description":"Detailed information about a rate update request"},"ResolveAlertRequest":{"properties":{"resolution_notes":{"type":"string","maxLength":500,"minLength":10,"title":"Resolution Notes"}},"type":"object","required":["resolution_notes"],"title":"ResolveAlertRequest","description":"Schema for resolving an alert"},"RiskLevel":{"type":"string","enum":["low","medium","high"],"title":"RiskLevel","description":"Risk level for KYC/AML compliance"},"RoleInUser":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"name":{"type":"string","title":"Name"},"display_name_ar":{"type":"string","title":"Display Name Ar"}},"type":"object","required":["id","name","display_name_ar"],"title":"RoleInUser","description":"Role information in user response"},"TransactionCancelRequest":{"properties":{"reason":{"type":"string","maxLength":500,"minLength":10,"title":"Reason","description":"Cancellation reason (required)"}},"type":"object","required":["reason"],"title":"TransactionCancelRequest","description":"Schema for cancelling transaction"},"TransactionListResponse":{"properties":{"total":{"type":"integer","title":"Total"},"transactions":{"items":{"anyOf":[{"$ref":"#/components/schemas/IncomeTransactionResponse"},{"$ref":"#/components/schemas/ExpenseTransactionResponse"},{"$ref":"#/components/schemas/ExchangeTransactionResponse"},{"$ref":"#/components/schemas/TransferTransactionResponse"}]},"type":"array","title":"Transactions"}},"type":"object","required":["total","transactions"],"title":"TransactionListResponse","description":"Schema for transaction list response"},"TransactionStatus":{"type":"string","enum":["pending","in_transit","completed","cancelled","failed","reversed"],"title":"TransactionStatus","description":"Transaction lifecycle states"},"TransactionSummary":{"properties":{"total_count":{"type":"integer","title":"Total Count"},"total_amount":{"type":"string","title":"Total Amount"},"by_status":{"additionalProperties":{"type":"integer"},"type":"object","title":"By Status"},"by_type":{"additionalProperties":{"type":"integer"},"type":"object","title":"By Type"},"date_range":{"additionalProperties":{"type":"string","format":"date-time"},"type":"object","title":"Date Range"}},"type":"object","required":["total_count","total_amount","by_status","by_type","date_range"],"title":"TransactionSummary","description":"Summary statistics for transactions"},"TransactionType":{"type":"string","enum":["income","expense","exchange","transfer"],"title":"TransactionType","description":"Types of financial transactions"},"TransferApproval":{"properties":{"approved":{"type":"boolean","title":"Approved"},"notes":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Notes"}},"type":"object","required":["approved"],"title":"TransferApproval","description":"Approve or reject transfer"},"TransferReceiptRequest":{"properties":{"receipt_notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Receipt Notes","description":"Receipt notes"}},"type":"object","title":"TransferReceiptRequest","description":"Schema for confirming transfer receipt"},"TransferTransactionCreate":{"properties":{"from_branch_id":{"type":"string","format":"uuid","title":"From Branch Id","description":"Source branch ID"},"to_branch_id":{"type":"string","format":"uuid","title":"To Branch Id","description":"Destination branch ID"},"amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Amount","description":"Transfer amount"},"currency_id":{"type":"string","format":"uuid","title":"Currency Id","description":"Currency ID"},"transfer_type":{"allOf":[{"$ref":"#/components/schemas/TransferType"}],"description":"Transfer type"},"reference_number":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Reference Number"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"Human-readable transaction summary"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"transaction_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Transaction Date"}},"type":"object","required":["from_branch_id","to_branch_id","amount","currency_id","transfer_type"],"title":"TransferTransactionCreate","description":"Schema for creating transfer transaction","example":{"amount":10000.0,"currency_id":"423e4567-e89b-12d3-a456-426614174003","description":"Monthly cash allocation transfer","from_branch_id":"223e4567-e89b-12d3-a456-426614174001","notes":"Courier drop","reference_number":"TRF-2025-001","to_branch_id":"623e4567-e89b-12d3-a456-426614174005","transfer_type":"branch_to_branch"}},"TransferTransactionResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"transaction_number":{"type":"string","title":"Transaction Number"},"transaction_type":{"$ref":"#/components/schemas/TransactionType"},"status":{"$ref":"#/components/schemas/TransactionStatus"},"from_branch_id":{"type":"string","format":"uuid","title":"From Branch Id"},"from_branch_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From Branch Name","description":"Source branch name"},"to_branch_id":{"type":"string","format":"uuid","title":"To Branch Id"},"to_branch_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Branch Name","description":"Destination branch name"},"amount":{"type":"string","title":"Amount"},"currency_id":{"type":"string","format":"uuid","title":"Currency Id"},"transfer_type":{"$ref":"#/components/schemas/TransferType"},"user_id":{"type":"string","format":"uuid","title":"User Id"},"received_by_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Received By Id"},"received_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Received At"},"is_received":{"type":"boolean","title":"Is Received","description":"Reception status","default":false},"is_pending_receipt":{"type":"boolean","title":"Is Pending Receipt","description":"Waiting for receipt confirmation","default":false},"reference_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reference Number"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"transaction_date":{"type":"string","format":"date-time","title":"Transaction Date"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"},"cancelled_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Cancelled At"},"cancelled_by_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Cancelled By Id"},"cancellation_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cancellation Reason"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","transaction_number","transaction_type","status","from_branch_id","to_branch_id","amount","currency_id","transfer_type","user_id","transaction_date","created_at","updated_at"],"title":"TransferTransactionResponse","description":"Schema for transfer transaction response"},"TransferType":{"type":"string","enum":["branch_to_branch","vault_to_branch","branch_to_vault"],"title":"TransferType","description":"Transfer transaction types"},"UserAssignmentRequest":{"properties":{"user_ids":{"items":{"type":"string","format":"uuid"},"type":"array","minItems":1,"title":"User Ids","description":"List of user UUIDs to assign to the branch"}},"type":"object","required":["user_ids"],"title":"UserAssignmentRequest","description":"Request schema for assigning users to branch\n\nUsed in: POST /branches/{branch_id}/users","example":{"user_ids":["123e4567-e89b-12d3-a456-426614174000","223e4567-e89b-12d3-a456-426614174001","323e4567-e89b-12d3-a456-426614174002"]}},"UserCreate":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"full_name":{"type":"string","maxLength":100,"minLength":2,"title":"Full Name"},"phone_number":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Phone Number"},"is_active":{"type":"boolean","title":"Is Active","default":true},"password":{"type":"string","maxLength":100,"minLength":8,"title":"Password"},"is_superuser":{"type":"boolean","title":"Is Superuser","default":false},"role_ids":{"items":{"type":"string","format":"uuid"},"type":"array","title":"Role Ids"}},"type":"object","required":["username","email","full_name","password"],"title":"UserCreate","description":"Schema for creating a new user"},"UserResponse":{"properties":{"username":{"type":"string","maxLength":50,"minLength":3,"title":"Username"},"email":{"type":"string","format":"email","title":"Email"},"full_name":{"type":"string","maxLength":100,"minLength":2,"title":"Full Name"},"phone_number":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Phone Number"},"is_active":{"type":"boolean","title":"Is Active","default":true},"id":{"type":"string","format":"uuid","title":"Id"},"is_superuser":{"type":"boolean","title":"Is Superuser"},"last_login":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Login"},"failed_login_attempts":{"type":"integer","title":"Failed Login Attempts","default":0},"is_locked":{"type":"boolean","title":"Is Locked","default":false},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"roles":{"items":{"$ref":"#/components/schemas/RoleInUser"},"type":"array","title":"Roles","default":[]}},"type":"object","required":["username","email","full_name","id","is_superuser","created_at","updated_at"],"title":"UserResponse","description":"User response schema (without sensitive data)"},"UserUpdate":{"properties":{"email":{"anyOf":[{"type":"string","format":"email"},{"type":"null"}],"title":"Email"},"full_name":{"anyOf":[{"type":"string","maxLength":100,"minLength":2},{"type":"null"}],"title":"Full Name"},"phone_number":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Phone Number"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"is_superuser":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Superuser"},"role_ids":{"anyOf":[{"items":{"type":"string","format":"uuid"},"type":"array"},{"type":"null"}],"title":"Role Ids"},"branch_ids":{"anyOf":[{"items":{"type":"string","format":"uuid"},"type":"array"},{"type":"null"}],"title":"Branch Ids"}},"type":"object","title":"UserUpdate","description":"Schema for updating user information"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VaultBalanceInfo":{"properties":{"currency_code":{"type":"string","title":"Currency Code"},"currency_name":{"type":"string","title":"Currency Name"},"balance":{"type":"string","title":"Balance"},"last_updated":{"type":"string","format":"date-time","title":"Last Updated"}},"type":"object","required":["currency_code","currency_name","balance","last_updated"],"title":"VaultBalanceInfo","description":"Vault balance information"},"VaultBalanceResponse":{"properties":{"vault_id":{"type":"string","format":"uuid","title":"Vault Id"},"vault_code":{"type":"string","title":"Vault Code"},"vault_name":{"type":"string","title":"Vault Name"},"currency_id":{"type":"string","format":"uuid","title":"Currency Id"},"currency_code":{"type":"string","title":"Currency Code"},"balance":{"type":"string","title":"Balance"},"last_updated":{"type":"string","format":"date-time","title":"Last Updated"}},"type":"object","required":["vault_id","vault_code","vault_name","currency_id","currency_code","balance","last_updated"],"title":"VaultBalanceResponse","description":"Vault balance response"},"VaultBalanceUpdate":{"properties":{"vault_id":{"type":"string","format":"uuid","title":"Vault Id"},"currency_id":{"type":"string","format":"uuid","title":"Currency Id"},"new_balance":{"anyOf":[{"type":"number","minimum":0.0},{"type":"string"}],"title":"New Balance"},"reason":{"type":"string","minLength":10,"title":"Reason"}},"type":"object","required":["vault_id","currency_id","new_balance","reason"],"title":"VaultBalanceUpdate","description":"Update vault balance (admin only)"},"VaultCreate":{"properties":{"vault_code":{"type":"string","maxLength":20,"minLength":3,"title":"Vault Code"},"name":{"type":"string","maxLength":100,"minLength":3,"title":"Name"},"vault_type":{"$ref":"#/components/schemas/VaultTypeEnum"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location"},"branch_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Branch Id","description":"Branch ID (required for branch vaults)"}},"type":"object","required":["vault_code","name","vault_type"],"title":"VaultCreate","description":"Schema for creating a vault"},"VaultReconciliationReport":{"properties":{"vault_id":{"type":"string","format":"uuid","title":"Vault Id"},"vault_code":{"type":"string","title":"Vault Code"},"vault_name":{"type":"string","title":"Vault Name"},"reconciliation_date":{"type":"string","format":"date-time","title":"Reconciliation Date"},"results":{"items":{"$ref":"#/components/schemas/VaultReconciliationResult"},"type":"array","title":"Results"},"total_discrepancies":{"type":"integer","title":"Total Discrepancies"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["vault_id","vault_code","vault_name","reconciliation_date","results","total_discrepancies","notes"],"title":"VaultReconciliationReport","description":"Complete reconciliation report"},"VaultReconciliationRequest":{"properties":{"vault_id":{"type":"string","format":"uuid","title":"Vault Id"},"currency_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Currency Id"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["vault_id"],"title":"VaultReconciliationRequest","description":"Request vault reconciliation"},"VaultReconciliationResult":{"properties":{"vault_id":{"type":"string","format":"uuid","title":"Vault Id"},"vault_code":{"type":"string","title":"Vault Code"},"currency_id":{"type":"string","format":"uuid","title":"Currency Id"},"currency_code":{"type":"string","title":"Currency Code"},"system_balance":{"type":"string","title":"System Balance"},"physical_count":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Physical Count"},"discrepancy":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Discrepancy"},"last_reconciled_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Reconciled At"},"reconciled_by":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reconciled By"}},"type":"object","required":["vault_id","vault_code","currency_id","currency_code","system_balance","physical_count","discrepancy","last_reconciled_at","reconciled_by"],"title":"VaultReconciliationResult","description":"Reconciliation result"},"VaultResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"vault_code":{"type":"string","title":"Vault Code"},"name":{"type":"string","title":"Name"},"vault_type":{"$ref":"#/components/schemas/VaultTypeEnum"},"branch_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Branch Id"},"is_active":{"type":"boolean","title":"Is Active"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location"},"balances":{"anyOf":[{"items":{"$ref":"#/components/schemas/VaultBalanceInfo"},"type":"array"},{"type":"null"}],"title":"Balances","default":[]},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","vault_code","name","vault_type","branch_id","is_active","description","location","created_at","updated_at"],"title":"VaultResponse","description":"Complete vault response"},"VaultStatistics":{"properties":{"vault_id":{"type":"string","format":"uuid","title":"Vault Id"},"vault_code":{"type":"string","title":"Vault Code"},"vault_name":{"type":"string","title":"Vault Name"},"total_balance_usd_equivalent":{"type":"string","title":"Total Balance Usd Equivalent"},"currency_count":{"type":"integer","title":"Currency Count"},"pending_transfers_in":{"type":"integer","title":"Pending Transfers In"},"pending_transfers_out":{"type":"integer","title":"Pending Transfers Out"},"last_transfer_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Transfer Date"},"last_reconciliation_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Reconciliation Date"}},"type":"object","required":["vault_id","vault_code","vault_name","total_balance_usd_equivalent","currency_count","pending_transfers_in","pending_transfers_out","last_transfer_date","last_reconciliation_date"],"title":"VaultStatistics","description":"Vault statistics"},"VaultToBranchTransferCreate":{"properties":{"amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Amount","description":"Transfer amount (must be positive)"},"currency_id":{"type":"string","format":"uuid","title":"Currency Id"},"notes":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Notes"},"vault_id":{"type":"string","format":"uuid","title":"Vault Id"},"branch_id":{"type":"string","format":"uuid","title":"Branch Id"}},"type":"object","required":["amount","currency_id","vault_id","branch_id"],"title":"VaultToBranchTransferCreate","description":"Create transfer from vault to branch"},"VaultToVaultTransferCreate":{"properties":{"amount":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"string"}],"title":"Amount","description":"Transfer amount (must be positive)"},"currency_id":{"type":"string","format":"uuid","title":"Currency Id"},"notes":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Notes"},"from_vault_id":{"type":"string","format":"uuid","title":"From Vault Id"},"to_vault_id":{"type":"string","format":"uuid","title":"To Vault Id"}},"type":"object","required":["amount","currency_id","from_vault_id","to_vault_id"],"title":"VaultToVaultTransferCreate","description":"Create transfer between vaults"},"VaultTransferResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"transfer_number":{"type":"string","title":"Transfer Number"},"transfer_type":{"$ref":"#/components/schemas/VaultTransferTypeEnum"},"status":{"$ref":"#/components/schemas/VaultTransferStatusEnum"},"from_vault_id":{"type":"string","format":"uuid","title":"From Vault Id"},"from_vault_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From Vault Code"},"to_vault_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"To Vault Id"},"to_vault_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Vault Code"},"to_branch_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"To Branch Id"},"to_branch_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"To Branch Code"},"currency_id":{"type":"string","format":"uuid","title":"Currency Id"},"currency_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Currency Code"},"amount":{"type":"string","title":"Amount"},"initiated_by":{"type":"string","format":"uuid","title":"Initiated By"},"initiated_by_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Initiated By Name"},"initiated_at":{"type":"string","format":"date-time","title":"Initiated At"},"approved_by":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Approved By"},"approved_by_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Approved By Name"},"approved_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Approved At"},"received_by":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Received By"},"received_by_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Received By Name"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"},"cancelled_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Cancelled At"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"rejection_reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Rejection Reason"}},"type":"object","required":["id","transfer_number","transfer_type","status","from_vault_id","currency_id","amount","initiated_by","initiated_at"],"title":"VaultTransferResponse","description":"Transfer response"},"VaultTransferStatus":{"type":"string","enum":["pending","approved","in_transit","completed","cancelled","rejected"],"title":"VaultTransferStatus","description":"Transfer workflow statuses"},"VaultTransferStatusEnum":{"type":"string","enum":["pending","approved","in_transit","completed","cancelled","rejected"],"title":"VaultTransferStatusEnum","description":"Vault transfer statuses"},"VaultTransferSummary":{"properties":{"period_start":{"type":"string","format":"date-time","title":"Period Start"},"period_end":{"type":"string","format":"date-time","title":"Period End"},"total_transfers":{"type":"integer","title":"Total Transfers"},"completed_transfers":{"type":"integer","title":"Completed Transfers"},"pending_transfers":{"type":"integer","title":"Pending Transfers"},"cancelled_transfers":{"type":"integer","title":"Cancelled Transfers"},"total_amount_transferred":{"type":"string","title":"Total Amount Transferred"},"average_transfer_amount":{"type":"string","title":"Average Transfer Amount"},"by_currency":{"items":{"type":"object"},"type":"array","title":"By Currency","default":[]},"by_type":{"items":{"type":"object"},"type":"array","title":"By Type","default":[]}},"type":"object","required":["period_start","period_end","total_transfers","completed_transfers","pending_transfers","cancelled_transfers","total_amount_transferred","average_transfer_amount"],"title":"VaultTransferSummary","description":"Transfer summary statistics"},"VaultTransferType":{"type":"string","enum":["vault_to_vault","vault_to_branch","branch_to_vault"],"title":"VaultTransferType","description":"Types of vault transfers"},"VaultTransferTypeEnum":{"type":"string","enum":["vault_to_vault","vault_to_branch","branch_to_vault"],"title":"VaultTransferTypeEnum","description":"Vault transfer types"},"VaultTypeEnum":{"type":"string","enum":["main","branch"],"title":"VaultTypeEnum","description":"Vault types"},"VaultUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":100,"minLength":3},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"}},"type":"object","title":"VaultUpdate","description":"Schema for updating a vault"}},"securitySchemes":{"Bearer":{"type":"http","description":"JWT token from /auth/login endpoint","scheme":"bearer"}}}}